(this.webpackJsonpbuddy=this.webpackJsonpbuddy||[]).push([[0],{27:function(e,t,s){},36:function(e,t,s){},37:function(e,t,s){},42:function(e,t,s){},44:function(e,t,s){},45:function(e,t,s){},46:function(e,t,s){},47:function(e,t,s){},48:function(e,t,s){},49:function(e,t,s){},50:function(e,t,s){},51:function(e,t,s){},52:function(e,t,s){},53:function(e,t,s){"use strict";s.r(t);var n=s(0),r=s(1),o=s.n(r),a=s(19),i=s.n(a),c=(s(27),s(10)),l=s(11),u=s(14),d=s(13),p=(s(36),s(37),s(4)),f=s(12),h="AUTH_START",m="AUTH_SUCCESS",j="AUTH_FAIL",b="AUTH_LOGOUT",g="FETCH_POSTS_START",O="FETCH_POSTS_SUCCESS",I="FETCH_POSTS_FAILED",v="POST_START",x="POST_SUCCESSFUL",N="POST_FAILED",S="DELETE_POST_START",U="DELETE_POST_SUCCESSFUL",k="DELETE_POST_FAILED",w="LIKEDISLIKE_POST_START",y="LIKEDISLIKE_POST_SUCCESSFUL",C="LIKEDISLIKE_POST_FAILED",E="COMMENT_START",P="COMMENT_SUCCESSFUL",T="COMMENT_OTHER_SUCCESSFUL",_="COMMENT_FEEDPOST_SUCCESSFUL",A="COMMENT_FAILED",F="FETCH_FEED_POSTS_START",D="FETCH_FEED_POSTS_SUCCESS",L="FETCH_FEED_POSTS_FAILED",R="FETCH_USERINFO_START",H="FETCH_USERINFO_SUCCESS",z="FETCH_USERINFO_FAIL",M="FOLLOW_UNFOLLOW_START",G="FOLLOW_UNFOLLOW_SUCCESS",B="FOLLOW_UNFOLLOW_FAIL",V="SAVE_SETTINGS_CHANGES_START",J="SAVE_SETTINGS_CHANGES_SUCCESS",W="SAVE_SETTINGS_CHANGES_FAIL",K="GET_USER_START",Y="GET_USER_SUCCESS",$="GET_USER_FAIL",q="SEARCH_USERS_START",Q="SEARCH_USERS_SUCCESS",X="SEARCH_USERS_FAIL",Z="FETCH_SUGGESTED_USERS_START",ee="FETCH_SUGGESTED_USERS_SUCCESS",te="FETCH_SUGGESTED_USERS_FAIL",se=function(){return{type:h}},ne=function(e,t){return{idToken:e,userId:t,type:m}},re=function(e){return{type:j,error:e}},oe=function(){return localStorage.removeItem("token"),localStorage.removeItem("expirationDate"),localStorage.removeItem("userID"),{type:b}},ae=function(){return function(e){var t,s=localStorage.getItem("token");if(s){var n=new Date(localStorage.getItem("expirationDate"));if(n<=new Date)e(oe());else{var r=localStorage.getItem("userID");e(ne(s,r)),e((t=(n.getTime()-(new Date).getTime())/1e3,function(e){setTimeout((function(){e(oe())}),1e3*t)}))}}else e(oe())}},ie=function(e,t){var s=new FormData;return s.append("caption",e.caption),s.append("image",e.image),function(e){e({type:v}),fetch("https://socialmedia-backend.herokuapp.com/account/post",{method:"POST",body:s,headers:{Authorization:"Bearer "+t}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Creating the post failed!");return e.json()})).then((function(t){e(function(e){return{type:x,postInfo:e}}(t.post))})).catch((function(t){e({type:N,error:t})}))}},ce=function(e,t){return function(s){s({type:S}),console.log(e),fetch("https://socialmedia-backend.herokuapp.com/account/post/".concat(e),{method:"DELETE",headers:{Authorization:"Bearer "+t}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Deleting a post failed!");return e.json()})).then((function(t){s({type:U,postId:e})})).catch((function(e){s({type:k,error:e})}))}},le=function(e,t){return function(s){s({type:g}),fetch("https://socialmedia-backend.herokuapp.com/account/posts/".concat(t),{method:"GET",headers:{Authorization:"Bearer "+e}}).then((function(e){if(200!==e.status)throw new Error("Failed to fetch posts.");return e.json()})).then((function(e){var t;s((t=e.posts,{type:O,posts:t}))})).catch((function(e){return s({type:I,error:e})}))}},ue=function(e,t){return function(s){s({type:F}),fetch("https://socialmedia-backend.herokuapp.com/feed/posts/".concat(e),{method:"GET",headers:{Authorization:"Bearer "+t}}).then((function(e){if(200!==e.status)throw new Error("Failed to fetch posts.");return e.json()})).then((function(e){var t;s((t=e.posts,{type:D,posts:t}))})).catch((function(e){return s({type:L,error:e})}))}},de=function(e,t,s,n){return function(r){r({type:w}),fetch("https://socialmedia-backend.herokuapp.com/account/post/".concat(t,"?action=").concat(e,"&userId=").concat(s),{method:"PUT",headers:{Authorization:"Bearer "+n}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Deleting a post failed!");return e.json()})).then((function(e){r(function(e,t,s){return{type:y,postId:e,userId:t,action:s}}(t))})).catch((function(e){r({type:C,error:e})}))}},pe=function(e,t,s,n,r,o){return function(a){var i={userId:s,comment:n.comment};a({type:E}),fetch("https://socialmedia-backend.herokuapp.com/account/comment/".concat(e),{method:"POST",body:JSON.stringify(i),headers:{Authorization:"Bearer "+r,"Content-Type":"application/json"}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Creating the comment failed!");return e.json()})).then((function(r){var i={_id:r._id,userId:{userId:s,userInfo:{avatarImgUrl:n.avatarImgUrl,name:n.name,userName:n.userName}},content:n.comment};a(o?{type:_,postId:e,commentData:i}:t===s?function(e,t){return{type:P,postId:e,commentData:t}}(e,i):function(e,t){return{type:T,postId:e,commentData:t}}(e,i))})).catch((function(e){a({type:A,error:e})}))}},fe=function(e,t){return function(s){s({type:R}),fetch("https://socialmedia-backend.herokuapp.com/account/user-info/".concat(t),{method:"GET",headers:{Authorization:"Bearer "+e}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Fetching information failed!");return e.json()})).then((function(e){var t;s((t=e.userInfo,{type:H,userInfo:t}))})).catch((function(e){return s({type:z,error:e})}))}},he=function(e,t,s){var n=new FormData;return n.append("name",e.name),n.append("bio",e.bio),n.append("image",e.avatarImgUrl),function(e){e({type:V}),fetch("https://socialmedia-backend.herokuapp.com/account/user-info/".concat(s),{method:"PUT",body:n,headers:{Authorization:"Bearer "+t}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Updating information failed!");return e.json()})).then((function(t){e(function(e){return{type:J,newInfo:e}}(t.userInfo))})).catch((function(t){e({type:W,error:t})}))}},me=function(e,t,s,n){return function(r){r({type:M}),fetch("https://buddy-app-backend.herokuapp.com/account/followings/".concat(e,"?action=").concat(s,"&followingUserId=").concat(t),{method:"PUT",headers:{Authorization:"Bearer "+n}}).then((function(r){if(console.log("userId: ",e,"followingUserId: ",t,"action: ",s,"token: ",n),200!==r.status&&201!==r.status)throw new Error(s+"failed!");return r.json()})).then((function(n){r(function(e,t,s){return{type:G,userId:e,followingUserId:t,action:s}}(e,t,s))})).catch((function(e){r({type:B,error:e})}))}},je=function(e,t){return function(s){s({type:K}),fetch("https://socialmedia-backend.herokuapp.com/feed/users/".concat(e),{method:"GET",headers:{Authorization:"Bearer "+t}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Fetching the user failed!");return e.json()})).then((function(e){var t;s((t=e.userInfo,{type:Y,user:t}))})).catch((function(e){return s({type:$,error:e})}))}},be=function(e,t){return function(s){s({type:q}),fetch("https://socialmedia-backend.herokuapp.com/feed/search-users/".concat(e),{method:"GET",headers:{Authorization:"Bearer "+t}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("Searching users failed!");return e.json()})).then((function(e){var t;s((t=e.users,{type:Q,users:t}))})).catch((function(e){return s({type:X,error:e})}))}},ge=function(e,t){return function(s){s({type:Z}),fetch("https://socialmedia-backend.herokuapp.com/feed/get-users/".concat(t),{method:"GET",headers:{Authorization:"Bearer "+e}}).then((function(e){if(200!==e.status&&201!==e.status)throw new Error("geting users failed!");return e.json()})).then((function(e){var t;s((t=e.users,{type:ee,users:t}))})).catch((function(e){return s({type:te,error:e})}))}},Oe=(s(42),function(e){return Object(n.jsxs)("div",{class:"loader",children:[Object(n.jsx)("div",{class:"circle"}),Object(n.jsx)("div",{class:"circle"})]})}),Ie=s(5),ve=function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(){var e;Object(c.a)(this,s);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={signUpMessage:null,formIsValid:!0},e}return Object(l.a)(s,[{key:"submitHandler",value:function(e){var t=null,s=!0;e.preventDefault(),this.termsAndConditions.checked||(t="Please agree to the terms",s=!1),this.signUpPass.value.trim().length<6&&(t="password is too short",s=!1),this.signUpPassRepeat.value!==this.signUpPass.value&&(t="Enter the same password",s=!1),this.userName.value.trim().length<1&&(t="Please enter a username",s=!1),/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(this.signUpEmail.value)||(t="invalid email",s=!1),null===t&&(this.props.onSignUp(this.signUpEmail.value,this.signUpPass.value,this.userName.value,s),this.props.history.push("/"),this.signUpPass.value="",this.signUpPassRepeat.value="",this.userName.value="",this.signUpEmail.value="",this.termsAndConditions.checked=!1),this.setState({signUpMessage:t,formIsValid:s})}},{key:"render",value:function(){var e=this,t=null;this.props.error&&null===this.state.signUpMessage&&(t="Please try again");var s=Object(n.jsx)("form",{className:"sign-up",children:Object(n.jsxs)("div",{className:"sign-up-form",children:[Object(n.jsx)("div",{className:"sign-up-form-title h3",children:"Join Us Now!"}),Object(n.jsx)("p",{className:"sign-up-message",children:this.state.signUpMessage}),Object(n.jsx)("p",{className:"sign-up-message",children:t}),Object(n.jsxs)("div",{className:"sign-up-form-fields",children:[Object(n.jsx)("div",{className:"sign-up-form-field",children:Object(n.jsx)("input",{ref:function(t){e.signUpEmail=t},type:"email",className:"sign-up-form-username",placeholder:"Email"},"sign-up-email")}),Object(n.jsx)("div",{className:"sign-up-form-field",children:Object(n.jsx)("input",{ref:function(t){e.userName=t},type:"text",className:"sign-up-form-username",placeholder:"username"},"sign-up-name")}),Object(n.jsx)("div",{className:"sign-up-form-field",children:Object(n.jsx)("input",{autoComplete:"new-password",ref:function(t){e.signUpPass=t},type:"password",className:"sign-up-form-password",placeholder:"Password"},"sign-up-pass")}),Object(n.jsx)("div",{className:"sign-up-form-field",children:Object(n.jsx)("input",{ref:function(t){e.signUpPassRepeat=t},type:"password",className:"sign-up-form-password",placeholder:"Repeat Your Password"},"sign-up-pass-repeat")}),Object(n.jsx)("input",{type:"checkbox",id:"termsAndConditions",name:"termsAndConditions",ref:function(t){e.termsAndConditions=t}}),Object(n.jsxs)("label",{htmlFor:"termsAndConditions",className:"sign-up-form-terms",children:[" I agree to the ",Object(n.jsx)(p.b,{to:"/",className:"sign-up-to-sign-in-link",children:"Terms and Conditions"})]}),Object(n.jsx)("br",{})]}),Object(n.jsx)("input",{type:"submit",className:"btn btn-four sign-up-btn",value:"Sign Up",onClick:this.submitHandler.bind(this)}),Object(n.jsx)("div",{className:"sign-up-to-sign-in",children:Object(n.jsxs)("h4",{children:["Already have an account? ",Object(n.jsx)(p.b,{to:"/sign-in",className:"sign-up-to-sign-in-link",children:" Sign In"})]})})]})});return this.props.loading&&(s=Object(n.jsx)(Oe,{})),Object(n.jsxs)("div",{className:"sign-up-page",children:[Object(n.jsx)("h1",{children:this.props.loading?"Loading information... please wait":null}),s]})}}]),s}(o.a.Component),xe=Object(f.b)((function(e){return{loading:e.auth.loading,error:null!==e.auth.error}}),(function(e){return{onSignUp:function(t,s,n,r){return e(function(e,t,s,n){return function(r){r(n?se():re("invalid info"));var o={email:e,password:t,userName:s};fetch("https://socialmedia-backend.herokuapp.com/auth/signup",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then((function(e){if(422===e.status)throw new Error("Validation failed.");if(200!==e.status&&201!==e.status)throw console.log("Error!"),new Error("Could not authenticate you!");return e.json()})).then((function(e){console.log(e),localStorage.setItem("token",e.token),localStorage.setItem("userID",e.userId);var t=new Date((new Date).getTime()+36e5*e.expirationTime.toString());localStorage.setItem("expirationDate",t),r(ne(e.token,e.userId))})).catch((function(e){r(re(e)),console.log(e)}))}}(t,s,n,r))}}}))(Object(Ie.h)(ve)),Ne=(s(44),function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(){var e;Object(c.a)(this,s);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={signInMessage:null},e}return Object(l.a)(s,[{key:"submitHandler",value:function(e){var t=null;e.preventDefault(),/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(this.signInEmail.value)||(t="invalid email"),this.signInPass.value.trim().length<6&&(t="password is too short"),null===t&&(this.props.onSignIn(this.signInEmail.value,this.signInPass.value),this.props.history.push("/"),this.signInEmail.value="",this.signInPass.value=""),this.setState({signInMessage:t})}},{key:"render",value:function(){var e=this,t=null;this.props.error&&null===this.state.signInMessage&&(t="Please try again");var s=Object(n.jsx)("div",{className:"sign-in",children:Object(n.jsxs)("form",{className:"sign-in-form",children:[Object(n.jsx)("div",{className:"sign-in-form-title h3",children:"Sign in now!"}),Object(n.jsx)("p",{className:"sign-in-message",children:this.state.signInMessage}),Object(n.jsx)("p",{className:"sign-in-message",children:t}),Object(n.jsxs)("div",{className:"sign-in-form-fields",children:[Object(n.jsx)("div",{className:"sign-in-form-field",children:Object(n.jsx)("input",{ref:function(t){e.signInEmail=t},type:"email",className:"sign-in-form-username",placeholder:"Email",autoComplete:"username"})}),Object(n.jsx)("div",{className:"sign-in-form-field",children:Object(n.jsx)("input",{ref:function(t){e.signInPass=t},type:"password",className:"sign-in-form-password",placeholder:"Password",autoComplete:"current-password"})}),Object(n.jsxs)("h5",{children:["Forgot Your Password? ",Object(n.jsx)("a",{href:"/",children:"Click Here"})]})]}),Object(n.jsx)("input",{type:"submit",className:"btn btn-four sign-in-btn",value:"Sign In",onClick:this.submitHandler.bind(this)}),Object(n.jsx)("div",{className:"sign-in-to-sign-up",children:Object(n.jsxs)("h4",{children:["Do not have an account? ",Object(n.jsx)(p.b,{to:"/sign-up",className:"sign-in-to-sign-up-link",children:" Sign Up"})]})})]})});return this.props.loading&&(s=Object(n.jsx)(Oe,{})),Object(n.jsxs)("div",{className:"sign-in-page",children:[Object(n.jsx)("h1",{children:this.props.loading?"Loading information... Please wait":null}),s]})}}]),s}(o.a.Component)),Se=Object(f.b)((function(e){return{loading:e.auth.loading,error:null!==e.auth.error}}),(function(e){return{onSignIn:function(t,s){return e(function(e,t){return function(s){s(se());var n={email:e,password:t};fetch("https://socialmedia-backend.herokuapp.com/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){if(422===e.status)throw new Error("Validation failed.");if(200!==e.status&&201!==e.status)throw console.log("Error!"),new Error("Could not authenticate you!");return e.json()})).then((function(e){var t=new Date((new Date).getTime()+36e5*e.expirationTime.toString());localStorage.setItem("token",e.token),localStorage.setItem("expirationDate",t),localStorage.setItem("userID",e.userId),s(ne(e.token,e.userId))})).catch((function(e){s(re(e)),console.log(e)}))}}(t,s))}}}))(Object(Ie.h)(Ne)),Ue=(s(45),s.p+"static/media/logo-pink.ad123c89.png"),ke=s(7),we=function(e){var t=Object(Ie.g)();return Object(n.jsxs)("div",{className:"navbar",children:[Object(n.jsx)("img",{src:Ue,alt:"Buddy logo",onClick:function(){return t.push("/")}}),Object(n.jsxs)("div",{className:"navbar-right",children:[Object(n.jsxs)("div",{className:"navbar-list",children:[Object(n.jsx)("div",{className:"navbar-item",children:Object(n.jsx)(p.c,{activeClassName:"navbar-item-active",to:"/",exact:!0,className:"btn",onClick:e.onNavItemClicked,children:Object(n.jsx)(ke.c,{size:"2.4rem"})})}),Object(n.jsx)("div",{className:"navbar-item",children:Object(n.jsx)(p.c,{activeClassName:"navbar-item-active",exact:!0,to:"/search",className:"btn",onClick:e.onNavItemClicked,children:Object(n.jsx)(ke.i,{size:"2.4rem"})})}),Object(n.jsx)("div",{className:"navbar-item",children:Object(n.jsx)(p.c,{activeClassName:"navbar-item-active",exact:!0,to:"/"+e.userName,className:"btn",onClick:e.onNavItemClicked,children:Object(n.jsx)(ke.h,{size:"2.4rem"})})}),Object(n.jsx)("div",{className:"navbar-item",children:Object(n.jsx)("button",{exact:!0,onClick:e.addPostClick,className:"btn",children:Object(n.jsx)(ke.e,{size:"2.4rem"})})})]}),Object(n.jsx)("button",{className:"btn btn-primary navbar-btn",onClick:e.onLogOutClick,children:"Log Out"})]})]})},ye=(s(46),s(47),s.p+"static/media/avatar-preview.07b6dac5.jpg"),Ce=function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(){var e;Object(c.a)(this,s);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={liked:!1,postId:"",deleteOpen:!1,comment:""},e.postCommentHandler=function(t){t.preventDefault();var s={comment:e.state.comment,avatarImgUrl:e.props.userInfo.avatarImgUrl,name:e.props.userInfo.name,userName:e.props.userInfo.userName};e.props.onPostComment(e.props.postInfo._id,e.props.postInfo.creator._id,e.props.userId,s,e.props.token,e.props.feedPost),e.form.reset()},e.userProfileHandler=function(t){e.props.onGetUser(t,e.props.token),e.props.history.push("/"+t),e.props.profileClicked()},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e=this;this.setState({liked:-1!==this.props.postInfo.likes.findIndex((function(t){return t===e.props.userId}))})}},{key:"render",value:function(){var e=this,t="https://socialmedia-backend.herokuapp.com/",s=0,r=0,o=function(){0===s?(s++,r=setTimeout((function(){s=0}),200)):1===s&&(s=0,clearTimeout(r),e.props.onPostLikeDislike(e.state.liked?"unlike":"like",e.props.postInfo._id,e.props.userId,e.props.token),e.state.liked?e.setState({liked:!1}):e.setState({liked:!0}))};return Object(n.jsxs)("div",{onClick:o,className:"post",style:this.props.style,children:[Object(n.jsxs)("div",{className:"post-top",children:[Object(n.jsxs)("div",{className:"post-top-left",onClick:function(){return e.userProfileHandler(e.props.postInfo.creator.userInfo.userName)},children:[Object(n.jsx)("div",{className:"post-top-img-box",children:Object(n.jsx)("img",{src:""!==this.props.postInfo.creator.userInfo.avatarImgUrl?t+this.props.postInfo.creator.userInfo.avatarImgUrl:ye,alt:"Jane Smith"})}),Object(n.jsx)("h4",{children:""!==this.props.postInfo.creator.userInfo.name?this.props.postInfo.creator.userInfo.name:this.props.postInfo.creator.userInfo.userName})]}),Object(n.jsxs)("div",{className:"post-top-delete-box",style:this.props.postInfo.creator._id===this.props.userId?{display:"block"}:{display:"none"},children:[Object(n.jsx)(ke.a,{onClick:function(){return e.setState(e.state.deleteOpen?{deleteOpen:!1}:{deleteOpen:!0})}}),Object(n.jsx)("div",{style:this.state.deleteOpen?{display:"block"}:{display:"none"},onClick:this.props.deleteHandler,className:"post-top-delete",children:"delete post"})]})]}),Object(n.jsx)("img",{className:"post-photo",src:t+this.props.postInfo.imageUrl,alt:"example"}),Object(n.jsxs)("div",{className:"post-likebar",children:[this.state.liked?Object(n.jsx)(ke.b,{onClick:o}):Object(n.jsx)(ke.g,{onClick:o}),Object(n.jsx)(ke.f,{})]}),Object(n.jsxs)("div",{className:"post-caption",children:[Object(n.jsx)("h4",{onClick:function(){return e.userProfileHandler(e.props.postInfo.creator.userInfo.userName)},children:""!==this.props.postInfo.creator.userInfo.name?this.props.postInfo.creator.userInfo.name:this.props.postInfo.creator.userInfo.userName}),Object(n.jsx)("p",{children:this.props.postInfo.caption})]}),Object(n.jsxs)("div",{className:"post-comments",children:[Object(n.jsxs)("h4",{children:[this.props.postInfo.comments.length.toString()," ",+this.props.postInfo.comments.length>1?"comments":"comment"]}),Object(n.jsx)("div",{className:"post-comments-main",children:this.props.postInfo.comments.map((function(s){return Object(n.jsx)("div",{className:"post-comment",children:Object(n.jsxs)("div",{className:"post-comment-title",onClick:function(){return e.userProfileHandler(s.userId.userInfo.userName)},children:[Object(n.jsx)("div",{className:"post-comment-img-box",children:Object(n.jsx)("img",{src:t+s.userId.userInfo.avatarImgUrl,alt:s.userId.userName})}),Object(n.jsxs)("h4",{children:[""!==s.userId.userInfo.name?s.userId.userInfo.name:s.userId.userName," "]}),Object(n.jsxs)("p",{children:[" ",s.content]})]})})}))}),Object(n.jsxs)("form",{className:"post-comment-add",onSubmit:this.postCommentHandler,ref:function(t){e.form=t},children:[Object(n.jsx)("input",{className:"post-comment-add-input",type:"text",placeholder:"Add a comment",onChange:function(t){return e.setState({comment:t.target.value})}}),Object(n.jsx)("input",{className:"btn post-comment-add-btn",type:"submit",value:"post",disabled:""===this.state.comment.trim()})]})]})]})}}]),s}(o.a.Component),Ee=Object(f.b)((function(e){return{token:e.auth.token,userId:e.auth.userId,userName:e.user.userInfo.userName,userInfo:e.user.userInfo,userPosts:e.post.posts,otherUserPosts:e.user.otherUser.posts}}),(function(e){return{onPostLikeDislike:function(t,s,n,r){return e(de(t,s,n,r))},onPostComment:function(t,s,n,r,o,a){return e(pe(t,s,n,r,o,a))},onGetUser:function(t,s){return e(je(t,s))}}}))(Object(Ie.h)(Ce)),Pe=function(e){var t="https://socialmedia-backend.herokuapp.com/",s=Object(Ie.g)(),r=function(t){e.gettingUser(t,e.token),s.push("/"+t)};return Object(n.jsxs)("div",{className:"home",children:[Object(n.jsx)("div",{className:"posts",children:e.posts.length>0?e.posts.map((function(e){return Object(n.jsx)(Ee,{postInfo:e,deleteHandler:function(){},profileClicked:function(){},feedPost:!0})})):"No post to show!"}),Object(n.jsxs)("div",{className:"home-right",children:[Object(n.jsx)("div",{className:"home-right-top",children:Object(n.jsxs)("div",{className:"search-result",onClick:function(){return r(e.userInfo.userName)},children:[Object(n.jsx)("div",{className:"search-result-img-box",children:Object(n.jsx)("img",{src:""!==e.userInfo.avatarImgUrl?t+e.userInfo.avatarImgUrl:ye,alt:"Buddy user"})}),Object(n.jsx)("h5",{children:""!==e.userInfo.name?e.userInfo.name:e.userInfo.userName}),Object(n.jsxs)("p",{children:[" (@",e.userInfo.userName,")"]})]})}),Object(n.jsxs)("div",{className:"home-right-top",children:[Object(n.jsx)("p",{children:"Suggestions for you"}),e.suggestedUsers.length>0?e.suggestedUsers.map((function(e){return Object(n.jsxs)("div",{className:"search-result",onClick:function(){return r(e.userInfo.userName)},children:[Object(n.jsx)("div",{className:"search-result-img-box",children:Object(n.jsx)("img",{src:""!==e.userInfo.avatarImgUrl?t+e.userInfo.avatarImgUrl:ye,alt:"Buddy user"})}),Object(n.jsx)("h5",{children:""!==e.userInfo.name?e.userInfo.name:e.userInfo.userName}),Object(n.jsxs)("p",{children:[" (@",e.userInfo.userName,")"]})]})})):"No new user to suggest"]})]})]})},Te=(s(48),function(e){var t="https://socialmedia-backend.herokuapp.com/",s=Object(Ie.g)(),r=function(t){e.gettingUser(t,e.token),s.push("/"+t)},a=e.posts?Object(n.jsx)("div",{className:"profile-posts",children:e.posts.map((function(s){return Object(n.jsx)("div",{className:"profile-post",style:{backgroundImage:"url("+t+s.imageUrl+")"},onClick:e.postShow,id:s._id},s._id)}))}):Object(n.jsx)("div",{style:{textAlign:"center",padding:"1rem"},children:"No post found"}),i=e.userInfo.followers&&e.userInfo.followers!==[]?Object(n.jsx)("div",{className:"profile-followers",children:e.userInfo.followers.map((function(e){return Object(n.jsxs)("div",{className:"search-result",onClick:function(){return r(e.userInfo.userName)},children:[Object(n.jsx)("div",{className:"search-result-img-box",children:Object(n.jsx)("img",{src:""!==e.userInfo.avatarImgUrl?t+e.userInfo.avatarImgUrl:ye,alt:"Buddy user"})}),Object(n.jsx)("h5",{children:""!==e.userInfo.name?e.userInfo.name:e.userInfo.userName}),Object(n.jsxs)("p",{children:[" (@",e.userInfo.userName,")"]})]})}))}):Object(n.jsx)("div",{style:{textAlign:"center",padding:"1rem"},children:"No follower found"}),c=e.userInfo.followings&&e.userInfo.followings!==[]?Object(n.jsx)("div",{className:"profile-followings",children:e.userInfo.followings.map((function(e){return Object(n.jsxs)("div",{className:"search-result",onClick:function(){return r(e.userInfo.userName)},children:[Object(n.jsx)("div",{className:"search-result-img-box",children:Object(n.jsx)("img",{src:""!==e.userInfo.avatarImgUrl?t+e.userInfo.avatarImgUrl:ye,alt:"Buddy user"})}),Object(n.jsx)("h5",{children:""!==e.userInfo.name?e.userInfo.name:e.userInfo.userName}),Object(n.jsxs)("p",{children:[" (@",e.userInfo.userName,")"]})]})}))}):Object(n.jsx)("div",{style:{textAlign:"center",padding:"1rem"},children:"No following found"});return Object(n.jsx)("div",{className:"profile",children:!e.loading||e.userName||e.userInfo.followers?Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsxs)("div",{className:"profile-top",children:[Object(n.jsx)("div",{className:"profile-top-img-box",children:Object(n.jsx)("img",{src:""===e.userInfo.avatarImgUrl?ye:t+e.userInfo.avatarImgUrl,alt:"profile"})}),Object(n.jsxs)("div",{className:"profile-top-name",children:[Object(n.jsxs)("div",{className:"profile-top-items-box",children:[Object(n.jsxs)("div",{className:"profile-top-items-left",children:[Object(n.jsx)("h2",{children:e.userInfo.name}),Object(n.jsx)("p",{children:e.userInfo.bio})]}),e.userInfo.userName===e.currentUserUserName?Object(n.jsxs)("button",{onClick:e.onEditProfileClick,children:[Object(n.jsx)(ke.d,{})," Edit profile"]}):null]}),e.userInfo.userName!==e.currentUserUserName?Object(n.jsx)("button",{onClick:e.followUnfollowClick,children:e.following}):null]}),Object(n.jsxs)("div",{className:"profile-nav",children:[Object(n.jsxs)(p.c,{activeClassName:"profile-nav-item-active",to:"/".concat(e.userInfo.userName),exact:!0,className:"profile-nav-item",children:[e.posts.length," ",e.posts.length>0?"posts":"post"]}),Object(n.jsxs)(p.c,{activeClassName:"profile-nav-item-active",to:"/".concat(e.userInfo.userName,"/followers"),exact:!0,className:"profile-nav-item",children:[e.userInfo.followers.length," followers"]}),Object(n.jsxs)(p.c,{activeClassName:"profile-nav-item-active",to:"/".concat(e.userInfo.userName,"/followings"),exact:!0,className:"profile-nav-item",children:[e.userInfo.followings.length," followings"]})]})]}),Object(n.jsx)("div",{className:"profile-body",children:Object(n.jsxs)(Ie.d,{children:[Object(n.jsx)(Ie.b,{path:"/".concat(e.userInfo.userName),exact:!0,render:function(){return a}}),Object(n.jsx)(Ie.b,{path:"/".concat(e.userInfo.userName,"/followers"),exact:!0,render:function(){return i}}),Object(n.jsx)(Ie.b,{path:"/".concat(e.userInfo.userName,"/followings"),exact:!0,render:function(){return c}}),Object(n.jsx)(Ie.a,{to:"/".concat(e.userInfo.userName)})]})})]}):Object(n.jsx)(Oe,{})})}),_e=(s(49),function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(){var e;Object(c.a)(this,s);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={disabled:!0,src:""},e.imgPreview=function(t){var s=document.getElementById("previewImg"),n=new FileReader;n.onload=function(){s.src=n.result},n.readAsDataURL(t.target.files[0]),e.setState({disabled:!1})},e.handleSubmit=function(t){t.preventDefault();var s=new FormData(t.target);e.props.postClicked({image:Array.from(s)[0][1],caption:Array.from(s)[1][1]},e.props.token),e.props.changeState()},e}return Object(l.a)(s,[{key:"render",value:function(){var e=this;return Object(n.jsx)("div",{className:"create-post",style:this.props.style,children:Object(n.jsxs)("form",{className:"new-post",onSubmit:this.handleSubmit,children:[Object(n.jsx)("div",{className:"new-post-top",children:Object(n.jsx)("h2",{children:"Create Post"})}),Object(n.jsxs)("div",{className:"new-post-body",children:[Object(n.jsxs)("div",{className:"new-post-upload-photo",children:[Object(n.jsxs)("div",{className:"file-btn",children:[Object(n.jsx)("label",{htmlFor:"uploadimg",className:"btn btn-primary",children:"Upload a photo"}),Object(n.jsx)("input",{type:"file",accept:"image/*",onChange:function(t){return e.imgPreview(t)},id:"uploadimg",name:"image"})]}),Object(n.jsx)("img",{id:"previewImg",src:!0,alt:""})]}),Object(n.jsx)("div",{className:"new-post-caption",children:Object(n.jsx)("input",{type:"text",name:"caption",placeholder:"Write a caption..."})})]}),Object(n.jsx)("input",{type:"submit",className:"btn btn-four new-post-btn",value:"post",disabled:this.state.disabled})]})})}}]),s}(o.a.Component)),Ae=(s(50),function(e){var t=document.getElementById("previewImgEdit");return Object(n.jsxs)("div",{className:"edit-profile",style:e.style,children:[Object(n.jsx)("div",{className:"edit-profile-top",children:Object(n.jsx)("h2",{children:"Edit Profile"})}),Object(n.jsxs)("form",{className:"edit-profile-body",onSubmit:function(t){t.preventDefault();var s=new FormData(t.target);e.saveSettingsClicked({avatarImgUrl:Array.from(s)[0][1],name:Array.from(s)[1][1],bio:Array.from(s)[2][1]},e.token,e.userId),e.changeState()},children:[Object(n.jsxs)("div",{className:"edit-profile-upload-photo",children:[Object(n.jsxs)("div",{className:"edit-btn",children:[Object(n.jsx)("label",{htmlFor:"uploadimgEdit",className:"",children:Object(n.jsx)(ke.d,{})}),Object(n.jsx)("input",{type:"file",name:"image",accept:"image/*",onChange:function(e){return function(e){var s=new FileReader;s.onload=function(){t.src=s.result},s.readAsDataURL(e.target.files[0])}(e)},id:"uploadimgEdit"})]}),Object(n.jsx)("div",{className:"edit-profile-img-box",children:Object(n.jsx)("img",{id:"previewImgEdit",src:""===e.userInfo.avatarImgUrl?ye:"https://socialmedia-backend.herokuapp.com/"+e.userInfo.avatarImgUrl,alt:"preview"})})]}),Object(n.jsxs)("div",{className:"edit-profile-info-box",children:[Object(n.jsxs)("div",{className:"edit-profile-info",children:[Object(n.jsx)("label",{htmlFor:"edit-profile-name",children:"Your Name"}),Object(n.jsx)("input",{type:"text",id:"edit-profile-name",name:"edit-profile-name",defaultValue:e.userInfo.name})]}),Object(n.jsxs)("div",{className:"edit-profile-info",children:[Object(n.jsx)("label",{htmlFor:"edit-profile-bio",children:"Your Bio"}),Object(n.jsx)("input",{type:"text",id:"edit-profile-bio",name:"edit-profile-bio",defaultValue:e.userInfo.bio})]})]}),Object(n.jsx)("input",{type:"submit",className:"btn btn-primary",value:"save"})]})]})}),Fe=(s(51),function(e){var t=Object(Ie.g)(),s=null;return Object(n.jsx)("div",{className:"search-page",children:Object(n.jsxs)("div",{className:"search-body",children:[Object(n.jsx)("input",{type:"search",name:"search",placeholder:"Search accounts",onChange:function(t){return n=t.target.value,s&&clearTimeout(s),void(s=setTimeout((function(){e.onSearch(n,e.token)}),500));var n}}),Object(n.jsxs)("div",{className:"search-results",children:[Object(n.jsx)("p",{className:"search-title",children:"Result:"}),e.loading?Object(n.jsx)(Oe,{}):e.results.map((function(s){return Object(n.jsxs)("div",{className:"search-result",onClick:function(){return n=s.userInfo.userName,e.gettingUser(n,e.token),void t.push("/"+n);var n},children:[Object(n.jsx)("div",{className:"search-result-img-box",children:Object(n.jsx)("img",{src:""!==s.userInfo.avatarImgUrl?"https://socialmedia-backend.herokuapp.com/"+s.userInfo.avatarImgUrl:ye,alt:"Buddy user"})}),Object(n.jsx)("h5",{children:""!==s.userInfo.name?s.userInfo.name:s.userInfo.userName}),Object(n.jsxs)("p",{children:[" (@",s.userInfo.userName,")"]})]})}))]})]})})}),De=s(2),Le=(s(52),function(e){return Object(n.jsx)("div",Object(De.a)(Object(De.a)({className:"message-modal"},e),{},{children:e.loading?Object(n.jsx)(Oe,{}):Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsx)("h2",{children:e.children}),Object(n.jsx)("button",{className:"btn btn-primary",onClick:e.closeClicked,children:"Close"})]})}))}),Re=function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(){var e;Object(c.a)(this,s);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={addPostOpen:!1,editProfileOpen:!1,showMessage:!1,showSettingsMessage:!1,showPost:!1,singlePostId:"",followingOtherUser:!1},e.deleteHandler=function(){e.setState({showPost:!1}),e.props.onDeletePost(e.state.singlePostId,e.props.token)},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.props.onFetchPosts(this.props.token,this.props.userId),this.props.onFetchUserInfo(this.props.token,this.props.userId),this.props.onfetchFeedPosts(this.props.userId,this.props.token),this.props.onfetchSuggestedUsers(this.props.token,this.props.userId)}},{key:"render",value:function(){var e=this;return Object(n.jsxs)("div",{children:[Object(n.jsx)(we,{userName:this.props.userInfo.userName,onLogOutClick:this.props.onLogOut,addPostClick:function(){return e.setState({addPostOpen:!0,editProfileOpen:!1})}}),Object(n.jsxs)(Ie.d,{children:[Object(n.jsx)(Ie.b,{path:"/",exact:!0,render:function(){return Object(n.jsx)(Pe,{posts:e.props.feedPosts,suggestedUsers:e.props.suggestedUsers,userInfo:e.props.userInfo,gettingUser:e.props.onGetUser,token:e.props.token})}}),Object(n.jsx)(Ie.b,{path:"/".concat(this.props.userInfo.userName),render:function(){return Object(n.jsx)(Te,{following:"follow",followUnfollowClick:null,loading:!1,userName:e.props.userInfo.userName,currentUserUserName:e.props.userInfo.userName,postShow:function(t){return e.setState({singlePostId:t.target.id,showPost:!0})},posts:e.props.posts,userInfo:e.props.userInfo,onEditProfileClick:function(){return e.setState({addPostOpen:!1,editProfileOpen:!0})},gettingUser:e.props.onGetUser,token:e.props.token})}}),Object(n.jsx)(Ie.b,{path:"/search",exact:!0,render:function(){return Object(n.jsx)(Fe,{onSearch:e.props.onSearchUsers,token:e.props.token,results:e.props.searchResult,loading:e.props.userLoading,gettingUser:e.props.onGetUser})}}),Object(n.jsx)(Ie.b,{path:"/:userName",render:function(t){t.match;return Object(n.jsx)(Te,{followUnfollowClick:function(){return e.props.onFollowUnfollow(e.props.userId,e.props.otherUser._id,-1!==e.props.userInfo.followings.findIndex((function(t){return t._id===e.props.otherUser._id}))?"unfollow":"follow",e.props.token)},following:-1!==e.props.userInfo.followings.findIndex((function(t){return t._id===e.props.otherUser._id}))?"unfollow":"follow",loading:e.props.userLoading,userName:e.props.otherUser.userName,currentUserUserName:e.props.userInfo.userName,postShow:function(t){return e.setState({singlePostId:t.target.id,showPost:!0})},userInfo:e.props.otherUser,posts:e.props.otherUser.posts,gettingUser:e.props.onGetUser,token:e.props.token})}}),Object(n.jsx)(Ie.a,{to:"/"})]}),this.state.showMessage?Object(n.jsx)(Le,{style:this.state.showMessage?{display:"flex"}:{display:"none"},closeClicked:function(){return e.setState({showMessage:!1,addPostOpen:!1})},loading:this.props.loading,children:this.props.postMessage}):Object(n.jsx)(_e,{style:this.state.addPostOpen?{display:"block"}:{display:"none"},changeState:function(){return e.setState({showMessage:!0})},postClicked:this.props.onPostClicked,token:this.props.token}),""!==this.state.singlePostId&&this.state.showPost?Object(n.jsx)(Ee,{feedPost:!1,profileClicked:function(){return e.setState({showPost:!1})},deleteHandler:this.deleteHandler,postInfo:-1!==this.props.posts.findIndex((function(t){return t._id===e.state.singlePostId}))?this.props.posts[this.props.posts.findIndex((function(t){return t._id===e.state.singlePostId}))]:this.props.otherUserPosts[this.props.otherUserPosts.findIndex((function(t){return t._id===e.state.singlePostId}))],style:this.state.showPost?{display:"flex",position:"fixed",top:"50%",left:"50%",transform:"translate(-50%,-50%)",width:"42rem",zIndex:"120"}:{display:"none"}}):null,Object(n.jsx)(Ae,{style:this.state.editProfileOpen?{display:"block"}:{display:"none"},userInfo:this.props.userInfo,saveSettingsClicked:this.props.onSaveSettingsClicked,changeState:function(){return e.setState({editProfileOpen:!1})},token:this.props.token,userId:this.props.userId}),Object(n.jsx)("div",{className:"modal-overlay",style:this.state.addPostOpen||this.state.editProfileOpen||this.state.showMessage||this.state.showPost?{display:"block"}:{display:"none"},onClick:function(){return e.setState({addPostOpen:!1,editProfileOpen:!1,showMessage:!1,showPost:!1})}})]})}}]),s}(o.a.Component),He=Object(f.b)((function(e){return{token:e.auth.token,postMessage:e.post.message,loading:e.post.loading,userId:e.auth.userId,userInfo:e.user.userInfo,posts:e.post.posts,otherUser:e.user.otherUser,userLoading:e.user.loading,otherUserPosts:e.user.otherUser.posts,feedPosts:e.post.feedPosts,searchResult:e.user.searchedUsers,suggestedUsers:e.user.suggestedUsers}}),(function(e){return{onLogOut:function(){return e(oe())},onPostClicked:function(t,s){return e(ie(t,s))},onFetchPosts:function(t,s){e(le(t,s))},onFetchUserInfo:function(t,s){e(fe(t,s))},onSaveSettingsClicked:function(t,s,n){e(he(t,s,n))},onDeletePost:function(t,s){return e(ce(t,s))},onGetUser:function(t,s){return e(je(t,s))},onFollowUnfollow:function(t,s,n,r){return e(me(t,s,n,r))},onfetchFeedPosts:function(t,s){return e(ue(t,s))},onSearchUsers:function(t,s){return e(be(t,s))},onfetchSuggestedUsers:function(t,s){return e(ge(t,s))}}}))(Re),ze=function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(){return Object(c.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.props.onTryAutoSignUp()}},{key:"render",value:function(){return Object(n.jsx)("div",{className:"App",children:this.props.isSignedUp?Object(n.jsx)(He,{}):Object(n.jsxs)(Ie.d,{children:[Object(n.jsx)(Ie.b,{path:"/",exact:!0,component:xe}),Object(n.jsx)(Ie.b,{path:"/sign-up",exact:!0,component:xe}),Object(n.jsx)(Ie.b,{path:"/sign-in",exact:!0,component:Se}),Object(n.jsx)(Ie.a,{to:"/sign-up"})]})})}}]),s}(o.a.Component),Me=Object(f.b)((function(e){return{isSignedUp:null!==e.auth.token}}),(function(e){return{onTryAutoSignUp:function(){return e(ae())}}}))(ze),Ge=s(16),Be=s(30),Ve={token:null,userId:null,loading:!1,error:null},Je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(De.a)(Object(De.a)({},e),{},{loading:!0,error:null});case m:return Object(De.a)(Object(De.a)({},e),{},{loading:!1,error:null,token:t.idToken,userId:t.userId});case j:return Object(De.a)(Object(De.a)({},e),{},{loading:!1,error:t.error});case b:return Object(De.a)(Object(De.a)({},e),{},{loading:!1,token:null,userId:null});default:return e}},We=s(26),Ke={posts:[{_id:"",content:[{date:"",caption:"",image:""}],userId:"",likes:[{userId:"",date:""}],comments:[{userId:"",content:"",date:""}]}],loading:!1,error:null,message:null,feedPosts:[]},Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(De.a)(Object(De.a)({},e),{},{loading:!0,error:null});case O:return Object(De.a)(Object(De.a)({},e),{},{posts:t.posts,loading:!1,error:null});case I:return Object(De.a)(Object(De.a)({},e),{},{loading:!1,error:t.error});case v:return Object(De.a)(Object(De.a)({},e),{},{loading:!0,error:null,message:null});case x:return Object(De.a)(Object(De.a)({},e),{},{posts:[t.postInfo].concat(Object(We.a)(e.posts)),loading:!1,error:null,message:"Added post successfully!"});case N:return Object(De.a)(Object(De.a)({},e),{},{loading:!1,error:t.error,message:"Adding the post failed!"});case S:return Object(De.a)(Object(De.a)({},e),{},{loading:!1,error:null});case U:return Object(De.a)(Object(De.a)({},e),{},{posts:Object(We.a)(e.posts).filter((function(e){return e._id!==t.postId})),loading:!1,error:null});case k:return Object(De.a)(Object(De.a)({},e),{},{loading:!1,error:t.error});case w:return Object(De.a)(Object(De.a)({},e),{},{loading:!0,error:null});case y:return Object(De.a)(Object(De.a)({},e),{},{userInfo:t.userInfo,loading:!1,error:null});case C:return Object(De.a)(Object(De.a)({},e),{},{loading:!1,error:t.error});case E:return Object(De.a)(Object(De.a)({},e),{},{loading:!0,error:null});case P:var s=Object(De.a)(Object(De.a)({},e),{},{loading:!1,error:null}),n=s.posts.findIndex((function(e){return e._id===t.postId}));return s.posts[n].comments.push(t.commentData),s;case _:var r=Object(De.a)(Object(De.a)({},e),{},{loading:!1,error:null}),o=r.feedPosts.findIndex((function(e){return e._id===t.postId}));return r.feedPosts[o].comments.push(t.commentData),r;case A:return Object(De.a)(Object(De.a)({},e),{},{loading:!1,error:t.error});case F:return Object(De.a)(Object(De.a)({},e),{},{loading:!0,error:null});case D:return Object(De.a)(Object(De.a)({},e),{},{feedPosts:t.posts,loading:!1,error:null});case L:return Object(De.a)(Object(De.a)({},e),{},{loading:!1,error:t.error});default:return e}},$e={userInfo:{_id:"",userName:"",name:"",bio:"",avatarImgUrl:"",followers:[],followings:[],posts:[]},loading:!1,error:null,otherUser:{posts:[]},searchedUsers:[],suggestedUsers:[]},qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return Object(De.a)(Object(De.a)({},e),{},{loading:!0,error:null,userInfo:$e.userInfo});case H:return Object(De.a)(Object(De.a)({},e),{},{userInfo:t.userInfo,loading:!1,error:null});case z:return Object(De.a)(Object(De.a)({},e),{},{loading:!1,error:t.error});case q:return Object(De.a)(Object(De.a)({},e),{},{loading:!0,error:null,searchedUsers:[]});case Q:return Object(De.a)(Object(De.a)({},e),{},{searchedUsers:t.users.filter((function(t){return t.userInfo.userName!==e.userInfo.userName})),loading:!1,error:null});case X:return Object(De.a)(Object(De.a)({},e),{},{loading:!1,error:t.error,searchedUsers:[]});case M:return Object(De.a)(Object(De.a)({},e),{},{loading:!0,error:null});case G:var s=Object(De.a)({},e);return"follow"===t.action?(s.userInfo.followings.unshift({_id:t.followingUserId,userInfo:{userName:s.otherUser.userName,avatarImgUrl:s.otherUser.avatarImgUrl,name:s.otherUser.name}}),s.otherUser.followers.unshift({_id:s.userInfo._id,userInfo:{userName:s.userInfo.userName,avatarImgUrl:s.userInfo.avatarImgUrl,name:s.userInfo.name}})):(s.userInfo.followings.splice(s.userInfo.followings.findIndex((function(e){return e._id===t.followingUserId})),1),s.otherUser.followers.splice(s.otherUser.followers.findIndex((function(e){return e._id===t.userId})),1)),s.loading=!1,s;case B:return Object(De.a)(Object(De.a)({},e),{},{loading:!1,error:t.error});case V:return Object(De.a)(Object(De.a)({},e),{},{loading:!0,error:null});case J:return Object(De.a)(Object(De.a)({},e),{},{userInfo:Object(De.a)(Object(De.a)({},e.userInfo),{},{bio:t.newInfo.bio,name:t.newInfo.name,avatarImgUrl:0!==t.newInfo.avatarImgUrl.size?t.newInfo.avatarImgUrl:e.userInfo.avatarImgUrl}),loading:!1,error:null});case W:return Object(De.a)(Object(De.a)({},e),{},{loading:!1,error:t.error});case K:return Object(De.a)(Object(De.a)({},e),{},{loading:!0,error:null,otherUser:{posts:[]}});case Y:return Object(De.a)(Object(De.a)({},e),{},{otherUser:t.user,loading:!1,error:null});case $:return Object(De.a)(Object(De.a)({},e),{},{loading:!1,error:t.error,otherUser:{posts:[]}});case Z:return Object(De.a)(Object(De.a)({},e),{},{loading:!0,error:null,suggestedUsers:[]});case ee:return Object(De.a)(Object(De.a)({},e),{},{suggestedUsers:t.users,loading:!1,error:null});case te:return Object(De.a)(Object(De.a)({},e),{},{loading:!1,error:t.error,suggestedUsers:[]});case T:var n=Object(De.a)({},e),r=n.otherUser.posts.findIndex((function(e){return e._id===t.postId}));return n.otherUser.posts[r].comments.push(t.commentData),n.loading=!0,n.error=null,n;default:return e}},Qe=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,54)).then((function(t){var s=t.getCLS,n=t.getFID,r=t.getFCP,o=t.getLCP,a=t.getTTFB;s(e),n(e),r(e),o(e),a(e)}))},Xe=Object(Ge.c)({auth:Je,post:Ye,user:qe}),Ze=Ge.d,et=Object(Ge.e)(Xe,Ze(Object(Ge.a)(Be.a)));i.a.render(Object(n.jsx)(f.a,{store:et,children:Object(n.jsx)(p.a,{basename:"/social-media/",children:Object(n.jsx)(o.a.StrictMode,{children:Object(n.jsx)(Me,{})})})}),document.getElementById("root")),Qe()}},[[53,1,2]]]);
//# sourceMappingURL=main.be66c517.chunk.js.map