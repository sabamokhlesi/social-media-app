{"version":3,"sources":["store/actions/action-types.js","store/actions/auth.js","store/actions/post.js","store/actions/user.js","components/spinner/spinner.jsx","containers/sign-up-page/sign-up-page.jsx","containers/sign-in-page/sign-in-page.jsx","images/logo-pink.png","containers/account/nav/navbar.jsx","images/avatar-preview.jpg","components/post/post.jsx","containers/account/home/home.jsx","containers/account/profile/profile.jsx","containers/account/create-post-page/create-post-page.jsx","containers/account/edit-profile/edit-profile.jsx","containers/account/search-page/search-page.jsx","components/message-modal/message-modal.jsx","containers/account/account.jsx","App.js","store/reducers/auth.js","store/reducers/post.js","store/reducers/user.js","reportWebVitals.js","index.js"],"names":["AUTH_START","AUTH_SUCCESS","AUTH_FAIL","AUTH_LOGOUT","FETCH_POSTS_START","FETCH_POSTS_SUCCESS","FETCH_POSTS_FAILED","POST_START","POST_SUCCESSFUL","POST_FAILED","DELETE_POST_START","DELETE_POST_SUCCESSFUL","DELETE_POST_FAILED","LIKEDISLIKE_POST_START","LIKEDISLIKE_POST_SUCCESSFUL","LIKEDISLIKE_POST_FAILED","COMMENT_START","COMMENT_SUCCESSFUL","COMMENT_OTHER_SUCCESSFUL","COMMENT_FEEDPOST_SUCCESSFUL","COMMENT_FAILED","FETCH_FEED_POSTS_START","FETCH_FEED_POSTS_SUCCESS","FETCH_FEED_POSTS_FAILED","FETCH_USERINFO_START","FETCH_USERINFO_SUCCESS","FETCH_USERINFO_FAILED","FOLLOW_UNFOLLOW_START","FOLLOW_UNFOLLOW_SUCCESS","FOLLOW_UNFOLLOW_FAIL","SAVE_SETTINGS_CHANGES_START","SAVE_SETTINGS_CHANGES_SUCCESS","SAVE_SETTINGS_CHANGES_FAIL","GET_USER_START","GET_USER_SUCCESS","GET_USER_FAILED","SEARCH_USERS_START","SEARCH_USERS_SUCCESS","SEARCH_USERS_FAILED","FETCH_SUGGESTED_USERS_START","FETCH_SUGGESTED_USERS_SUCCESS","FETCH_SUGGESTED_USERS_FAILED","authStart","type","actionTypes","authSuccess","token","userId","idToken","authFail","error","logout","localStorage","removeItem","checkSignIn","dispatch","expirationTime","getItem","expirationDate","Date","getTime","setTimeout","createPost","postInfo","formData","FormData","append","caption","image","fetch","method","body","headers","Authorization","then","res","status","Error","json","postSuccess","post","catch","err","deletePost","postId","console","log","fetchPosts","posts","fetchFeedPosts","postLikeDislike","action","likeDislikePostSuccess","postComment","postCreatorId","commentData","feedPost","info","comment","JSON","stringify","commentInfo","_id","userInfo","avatarImgUrl","name","userName","content","id","data","commentSuccess","commentOtherSuccess","fetchUserInfo","saveChangedSettingsInfo","newInfo","bio","saveChangedSettingsInfoSuccess","followUnfollow","followingUserId","followUnfollowSuccess","getUser","user","searchUsers","searchedKey","users","fetchSuggestedUsers","spinner","props","class","SignUpPage","state","signUpMessage","formIsValid","event","message","valid","preventDefault","this","termsAndConditions","checked","signUpPass","value","trim","length","signUpPassRepeat","test","signUpEmail","onSignUp","history","push","setState","errorMessage","form","className","ref","input","placeholder","autoComplete","htmlFor","to","onClick","submitHandler","bind","loading","React","Component","connect","auth","email","password","isValid","authData","setItem","toString","actions","withRouter","SignInPage","signInMessage","signInEmail","signInPass","onSignIn","errorMassage","href","Navbar","useHistory","src","logo","alt","activeClassName","exact","onNavItemClicked","size","addPostClick","onLogOutClick","Post","liked","deleteOpen","postCommentHandler","onPostComment","creator","reset","userProfileHandler","onGetUser","profileClicked","likes","findIndex","serverUrl","count","timer","onDoubleClick","clearTimeout","onPostLikeDislike","style","photo","display","deleteHandler","imageUrl","comments","map","onSubmit","onChange","target","disabled","userPosts","otherUserPosts","otherUser","Home","linkHandler","gettingUser","suggestedUsers","Profile","backgroundImage","postShow","textAlign","padding","followers","follower","followings","following","Fragment","currentUserUserName","onEditProfileClick","followUnfollowClick","path","render","CreatePost","imgPreview","previewImg","document","getElementById","reader","FileReader","onload","result","readAsDataURL","files","handleSubmit","postClicked","Array","from","changeState","accept","editProfile","previewImgEdit","saveSettingsClicked","defaultValue","SearchPage","timeout","key","onSearch","results","messageModal","children","closeClicked","Account","addPostOpen","editProfileOpen","showMessage","showSettingsMessage","showPost","singlePostId","followingOtherUser","onDeletePost","onFetchPosts","onFetchUserInfo","onfetchFeedPosts","onfetchSuggestedUsers","onLogOut","feedPosts","onSearchUsers","searchResult","userLoading","match","onFollowUnfollow","postMessage","onPostClicked","position","top","left","transform","width","zIndex","onSaveSettingsClicked","searchedUsers","App","onTryAutoSignUp","isSignedUp","component","initialState","reducer","date","filter","newstate","postIndex","copiedState","pIndex","unshift","splice","followerId","newState","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","rootReducer","combineReducers","authReducer","postReducer","userReducer","composeEnhancers","compose","store","createStore","applyMiddleware","thunk","ReactDOM","basename","StrictMode"],"mappings":"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","file":"static/js/main.4669d891.chunk.js","sourcesContent":["//auth actions\r\nexport const AUTH_START ='AUTH_START'\r\nexport const AUTH_SUCCESS = 'AUTH_SUCCESS'\r\nexport const AUTH_FAIL= 'AUTH_FAIL'\r\nexport const AUTH_LOGOUT ='AUTH_LOGOUT'\r\n\r\n\r\n// post actions\r\nexport const FETCH_POSTS_START ='FETCH_POSTS_START'\r\nexport const FETCH_POSTS_SUCCESS ='FETCH_POSTS_SUCCESS'\r\nexport const FETCH_POSTS_FAILED ='FETCH_POSTS_FAILED'\r\n\r\nexport const POST_START ='POST_START'\r\nexport const POST_SUCCESSFUL ='POST_SUCCESSFUL'\r\nexport const POST_FAILED ='POST_FAILED'\r\n\r\nexport const DELETE_POST_START ='DELETE_POST_START'\r\nexport const DELETE_POST_SUCCESSFUL ='DELETE_POST_SUCCESSFUL'\r\nexport const DELETE_POST_FAILED ='DELETE_POST_FAILED'\r\n\r\nexport const LIKEDISLIKE_POST_START ='LIKEDISLIKE_POST_START'\r\nexport const LIKEDISLIKE_POST_SUCCESSFUL ='LIKEDISLIKE_POST_SUCCESSFUL'\r\nexport const LIKEDISLIKE_POST_FAILED ='LIKEDISLIKE_POST_FAILED'\r\n\r\nexport const COMMENT_START ='COMMENT_START'\r\nexport const COMMENT_SUCCESSFUL ='COMMENT_SUCCESSFUL'\r\nexport const COMMENT_OTHER_SUCCESSFUL ='COMMENT_OTHER_SUCCESSFUL'\r\nexport const COMMENT_FEEDPOST_SUCCESSFUL ='COMMENT_FEEDPOST_SUCCESSFUL'\r\nexport const COMMENT_FAILED ='COMMENT_FAILED'\r\n\r\nexport const FETCH_FEED_POSTS_START ='FETCH_FEED_POSTS_START'\r\nexport const FETCH_FEED_POSTS_SUCCESS ='FETCH_FEED_POSTS_SUCCESS'\r\nexport const FETCH_FEED_POSTS_FAILED ='FETCH_FEED_POSTS_FAILED'\r\n\r\n\r\n// user actions\r\nexport const FETCH_USERINFO_START ='FETCH_USERINFO_START'\r\nexport const FETCH_USERINFO_SUCCESS ='FETCH_USERINFO_SUCCESS'\r\nexport const FETCH_USERINFO_FAILED ='FETCH_USERINFO_FAIL'\r\n\r\nexport const FOLLOW_UNFOLLOW_START ='FOLLOW_UNFOLLOW_START'\r\nexport const FOLLOW_UNFOLLOW_SUCCESS ='FOLLOW_UNFOLLOW_SUCCESS'\r\nexport const FOLLOW_UNFOLLOW_FAIL ='FOLLOW_UNFOLLOW_FAIL'\r\n\r\nexport const SAVE_SETTINGS_CHANGES_START ='SAVE_SETTINGS_CHANGES_START'\r\nexport const SAVE_SETTINGS_CHANGES_SUCCESS ='SAVE_SETTINGS_CHANGES_SUCCESS'\r\nexport const SAVE_SETTINGS_CHANGES_FAIL ='SAVE_SETTINGS_CHANGES_FAIL'\r\n\r\n//other users actions\r\n\r\nexport const GET_USER_START ='GET_USER_START'\r\nexport const GET_USER_SUCCESS ='GET_USER_SUCCESS'\r\nexport const GET_USER_FAILED ='GET_USER_FAIL'\r\n\r\nexport const SEARCH_USERS_START ='SEARCH_USERS_START'\r\nexport const SEARCH_USERS_SUCCESS ='SEARCH_USERS_SUCCESS'\r\nexport const SEARCH_USERS_FAILED ='SEARCH_USERS_FAIL'\r\n\r\nexport const FETCH_SUGGESTED_USERS_START ='FETCH_SUGGESTED_USERS_START'\r\nexport const FETCH_SUGGESTED_USERS_SUCCESS ='FETCH_SUGGESTED_USERS_SUCCESS'\r\nexport const FETCH_SUGGESTED_USERS_FAILED ='FETCH_SUGGESTED_USERS_FAIL'","import * as actionTypes from './action-types'\r\n\r\nexport const authStart = () => {return{type:actionTypes.AUTH_START}}\r\nexport const authSuccess = (token,userId) => {return{idToken:token,userId:userId,type:actionTypes.AUTH_SUCCESS}}\r\nexport const authFail = (error) => {return {type: actionTypes.AUTH_FAIL, error: error}}\r\n\r\n\r\nexport const logout = ()=>{\r\n    localStorage.removeItem('token')\r\n    localStorage.removeItem('expirationDate')\r\n    localStorage.removeItem('userID')\r\n    return{\r\n        type:actionTypes.AUTH_LOGOUT\r\n    }\r\n}\r\n\r\nexport const checkAuthTimeout = (expirationTime) => {\r\n    return dispatch => {\r\n        setTimeout(() => {\r\n            dispatch(logout());\r\n        }, expirationTime*1000);\r\n    };\r\n};\r\n\r\n\r\nexport const addUser = (email,password,userName,isValid) =>{\r\n    return dispatch => {\r\n        isValid? dispatch(authStart()):dispatch(authFail('invalid info'))\r\n        const authData = {email:email,password:password,userName:userName}\r\n        \r\n        // const url = 'http://localhost:8080/auth/signup'\r\n        const url = 'https://socialmedia-backend.herokuapp.com/auth/signup'\r\n        fetch(url, {method:'PUT',headers: {'Content-Type': 'application/json'},body: JSON.stringify(authData)})\r\n        .then(res => {\r\n            if (res.status === 422) {throw new Error('Validation failed.');}\r\n            if (res.status !== 200 && res.status !== 201) {console.log('Error!');throw new Error('Could not authenticate you!');}\r\n            return res.json();\r\n          })\r\n        .then(res => {\r\n            console.log(res)\r\n            localStorage.setItem(\"token\",res.token)\r\n            localStorage.setItem(\"userID\",res.userId)\r\n            const expirationDate = new Date(new Date().getTime()+ res.expirationTime.toString()*3600000)\r\n            localStorage.setItem(\"expirationDate\",expirationDate)\r\n            dispatch(authSuccess(res.token,res.userId))\r\n        })\r\n        .catch(err=>{dispatch(authFail(err));console.log(err)})\r\n    }\r\n}\r\n\r\n\r\nexport const userSignIn = (email,password) =>{\r\n    return dispatch => {\r\n        dispatch(authStart())\r\n        const authData = {email:email,password:password}\r\n        fetch('https://socialmedia-backend.herokuapp.com/auth/login', {method: 'POST',headers: {'Content-Type': 'application/json'},body: JSON.stringify(authData)})\r\n        // fetch('http://localhost:8080/auth/login', {method: 'POST',headers: {'Content-Type': 'application/json'},body: JSON.stringify(authData)})\r\n        .then(res => {\r\n            if (res.status === 422) {throw new Error('Validation failed.');}\r\n            if (res.status !== 200 && res.status !== 201) {console.log('Error!');throw new Error('Could not authenticate you!');}\r\n            return res.json();\r\n          })\r\n        .then(res => {\r\n            const expirationDate = new Date(new Date().getTime()+ res.expirationTime.toString()*3600000)\r\n            localStorage.setItem(\"token\",res.token)\r\n            localStorage.setItem(\"expirationDate\",expirationDate)\r\n            localStorage.setItem(\"userID\",res.userId)\r\n            dispatch(authSuccess(res.token,res.userId))\r\n        })\r\n        .catch(err=>{dispatch(authFail(err));console.log(err)})\r\n    }\r\n}\r\n\r\n\r\n\r\nexport const checkSignIn = () => {\r\n    return dispatch => {\r\n        const token = localStorage.getItem('token');\r\n        if (!token) {\r\n            dispatch(logout());\r\n        } else {\r\n            const expirationDate = new Date(localStorage.getItem('expirationDate'));\r\n            if (expirationDate <= new Date()) {\r\n                dispatch(logout());\r\n            } else {\r\n                const userId = localStorage.getItem('userID');\r\n                dispatch(authSuccess(token, userId));\r\n                dispatch(checkAuthTimeout((expirationDate.getTime() - new Date().getTime()) / 1000 ));\r\n            }   \r\n        }\r\n    };\r\n};","import * as actionTypes from './action-types'\r\n\r\nexport const postStart=() =>{return{type:actionTypes.POST_START}}\r\nexport const postFailed =(error) =>{return{type:actionTypes.POST_FAILED,error:error}}\r\nexport const postSuccess =(postInfo) =>{return{type:actionTypes.POST_SUCCESSFUL,postInfo:postInfo }}\r\n\r\nexport const createPost = (postInfo,token) =>{\r\n    const formData = new FormData();\r\n    formData.append('caption', postInfo.caption)\r\n    formData.append('image', postInfo.image)\r\n    return dispatch => {\r\n        dispatch(postStart())\r\n        // fetch('http://localhost:8080/account/post', \r\n        fetch('https://socialmedia-backend.herokuapp.com/account/post', \r\n            {method: 'POST',body:formData, headers: {Authorization: 'Bearer ' + token}})\r\n        .then(res => {\r\n            if (res.status !== 200 && res.status !== 201) {throw new Error('Creating the post failed!');}\r\n            return res.json();\r\n            })\r\n        .then(res =>{\r\n            dispatch(postSuccess(res.post))\r\n        })\r\n        .catch(err=>{dispatch(postFailed(err))})\r\n    }\r\n}\r\n\r\n\r\nexport const deletePostStart=() =>{return{type:actionTypes.DELETE_POST_START}}\r\nexport const deletePostFailed =(error) =>{return{type:actionTypes.DELETE_POST_FAILED,error:error}}\r\nexport const deletePostSuccess =(id) =>{return{type:actionTypes.DELETE_POST_SUCCESSFUL,postId: id }}\r\n\r\nexport const deletePost = (postId,token) =>{\r\n    return dispatch => {\r\n        dispatch(deletePostStart())\r\n        console.log(postId)\r\n        // fetch(`http://localhost:8080/account/post/${postId}`, {\r\n        fetch(`https://socialmedia-backend.herokuapp.com/account/post/${postId}`, {\r\n            method: 'DELETE',headers: {Authorization: 'Bearer ' + token}\r\n        })\r\n        .then(res => {\r\n        if (res.status !== 200 && res.status !== 201) {throw new Error('Deleting a post failed!');}\r\n        return res.json();\r\n        })\r\n        .then(res =>{dispatch(deletePostSuccess(postId))})\r\n        .catch(err=>{dispatch(deletePostFailed(err))})\r\n    }\r\n}\r\n\r\n\r\nexport const fetchPostsSuccess = (posts) =>{return{type: actionTypes.FETCH_POSTS_SUCCESS,posts: posts }}\r\nexport const fetchPostsFail = (error) => {return{type: actionTypes.FETCH_POSTS_FAILED,error: error}}\r\nexport const fetchPostsStart =() => {return{type: actionTypes.FETCH_POSTS_START}}\r\n\r\nexport const fetchPosts = (token,userId) =>{\r\n    return dispatch => {\r\n        dispatch(fetchPostsStart())\r\n            \r\n        // fetch(`http://localhost:8080/account/posts/${userId}`\r\n        fetch(`https://socialmedia-backend.herokuapp.com/account/posts/${userId}`\r\n            ,{method: 'GET',headers: {Authorization: 'Bearer ' + token}})\r\n            .then(res => {\r\n                if (res.status !== 200) {throw new Error('Failed to fetch posts.')}\r\n                return res.json();\r\n            })\r\n        .then(res=>{dispatch(fetchPostsSuccess(res.posts))})\r\n        .catch(err=>dispatch(fetchPostsFail(err)))\r\n    }\r\n}\r\n\r\nexport const fetchFeedPostsSuccess = (posts) =>{return{type: actionTypes.FETCH_FEED_POSTS_SUCCESS,posts: posts }}\r\nexport const fetchFeedPostsFail = (error) => {return{type: actionTypes.FETCH_FEED_POSTS_FAILED,error: error}}\r\nexport const fetchFeedPostsStart =() => {return{type: actionTypes.FETCH_FEED_POSTS_START}}\r\n\r\nexport const fetchFeedPosts = (userId,token) =>{\r\n    return dispatch => {\r\n        dispatch(fetchFeedPostsStart())\r\n            \r\n        // fetch(`http://localhost:8080/feed/posts/${userId}`\r\n        fetch(`https://socialmedia-backend.herokuapp.com/feed/posts/${userId}`\r\n            ,{method: 'GET',headers: {Authorization: 'Bearer ' + token}})\r\n            .then(res => {\r\n                if (res.status !== 200) {throw new Error('Failed to fetch posts.')}\r\n                return res.json();\r\n            })\r\n        .then(res=>{dispatch(fetchFeedPostsSuccess(res.posts))})\r\n        .catch(err=>dispatch(fetchFeedPostsFail(err)))\r\n    }\r\n}\r\n\r\nexport const likeDislikePostStart=() =>{return{type:actionTypes.LIKEDISLIKE_POST_START}}\r\nexport const likeDislikePostFailed =(error) =>{return{type:actionTypes.LIKEDISLIKE_POST_FAILED,error:error}}\r\nexport const likeDislikePostSuccess =(postId,userId,action) =>{return{type:actionTypes.LIKEDISLIKE_POST_SUCCESSFUL,postId: postId,userId:userId,action:action}}\r\n\r\nexport const postLikeDislike = (action,postId,userId,token) =>{\r\n    return dispatch => {\r\n        dispatch(likeDislikePostStart())\r\n        \r\n        // fetch(`http://localhost:8080/account/post/${postId}?action=${action}&userId=${userId}`, {\r\n        fetch(`https://socialmedia-backend.herokuapp.com/account/post/${postId}?action=${action}&userId=${userId}`, {\r\n            method: 'PUT',headers: {Authorization: 'Bearer ' + token}\r\n        })\r\n        .then(res => {\r\n        if (res.status !== 200 && res.status !== 201) {throw new Error('Deleting a post failed!');}\r\n        return res.json();\r\n        })\r\n        .then(res =>{dispatch(likeDislikePostSuccess(postId))})\r\n        .catch(err=>{dispatch(likeDislikePostFailed(err))})\r\n    }\r\n}\r\n\r\n\r\nexport const commentStart=() =>{return{type:actionTypes.COMMENT_START}}\r\nexport const commentFailed =(error) =>{return{type:actionTypes.COMMENT_FAILED,error:error}}\r\nexport const commentSuccess =(id,data) =>{return{type:actionTypes.COMMENT_SUCCESSFUL,postId:id, commentData:data }}\r\nexport const commentOtherSuccess =(id,data) =>{return{type:actionTypes.COMMENT_OTHER_SUCCESSFUL,postId:id, commentData:data }}\r\nexport const feedPostCommentSuccess =(id,data) =>{return{type:actionTypes.COMMENT_FEEDPOST_SUCCESSFUL,postId:id, commentData:data }}\r\n\r\nexport const postComment = (postId,postCreatorId,userId,commentData,token,feedPost) =>{\r\n    return dispatch => {\r\n        const info = {userId:userId,comment:commentData.comment}\r\n\r\n        dispatch(commentStart())\r\n        // fetch(`http://localhost:8080/account/comment/${postId}`, \r\n        fetch(`https://socialmedia-backend.herokuapp.com/account/comment/${postId}`, \r\n            {method: 'POST',body:JSON.stringify(info), headers: {Authorization: 'Bearer ' + token, 'Content-Type':'application/json'}})\r\n        .then(res => {\r\n            if (res.status !== 200 && res.status !== 201) {throw new Error('Creating the comment failed!');}\r\n            return res.json();\r\n            })\r\n        .then(res =>{\r\n            const commentInfo = {\r\n                _id:res._id,\r\n                userId:{userId:userId,userInfo:{avatarImgUrl:commentData.avatarImgUrl,name:commentData.name,userName:commentData.userName}},\r\n                content:commentData.comment\r\n            }\r\n            feedPost?dispatch(feedPostCommentSuccess(postId,commentInfo))\r\n            :postCreatorId === userId?dispatch(commentSuccess(postId,commentInfo)):dispatch(commentOtherSuccess(postId,commentInfo))\r\n        })\r\n        .catch(err=>{dispatch(commentFailed(err))})\r\n    }\r\n}\r\n\r\n","import * as actionTypes from './action-types'\r\n\r\nexport const fetchUserInfoSuccess = (info) =>{return{type: actionTypes.FETCH_USERINFO_SUCCESS,userInfo: info }}\r\nexport const fetchUserInfoFail = (error) => {return{type: actionTypes.FETCH_USERINFO_FAILED,error: error}}\r\nexport const fetchUserInfoStart =() => {return{type: actionTypes.FETCH_USERINFO_START}}\r\n\r\nexport const fetchUserInfo = (token,userId) =>{\r\n    return dispatch => {\r\n        dispatch(fetchUserInfoStart())\r\n        // fetch(`http://localhost:8080/account/user-info/${userId}`, {\r\n        fetch(`https://socialmedia-backend.herokuapp.com/account/user-info/${userId}`, {\r\n            method: 'GET',headers: {Authorization: 'Bearer ' + token}\r\n        })\r\n        .then(res => {\r\n        if (res.status !== 200 && res.status !== 201) {throw new Error('Fetching information failed!')}\r\n        return res.json();\r\n        })\r\n        .then(res=>{\r\n            dispatch(fetchUserInfoSuccess(res.userInfo))\r\n        }).catch(err=>dispatch(fetchUserInfoFail(err)))\r\n    }\r\n}\r\n\r\nexport const saveChangedSettingsInfoSuccess = (newInfo) =>{return{type: actionTypes.SAVE_SETTINGS_CHANGES_SUCCESS,newInfo: newInfo }}\r\nexport const saveChangedSettingsInfoFail = (error) => {return{type: actionTypes.SAVE_SETTINGS_CHANGES_FAIL,error: error}}\r\nexport const saveChangedSettingsInfoStart =() => {return{type: actionTypes.SAVE_SETTINGS_CHANGES_START}}\r\n\r\nexport const saveChangedSettingsInfo =(newInfo,token,userId)=>{\r\n    const formData = new FormData();\r\n    formData.append('name', newInfo.name)\r\n    formData.append('bio', newInfo.bio)\r\n    formData.append('image', newInfo.avatarImgUrl)\r\n    return dispatch => {\r\n        dispatch(saveChangedSettingsInfoStart())\r\n        // fetch(`http://localhost:8080/account/user-info/${userId}`, {\r\n        fetch(`https://socialmedia-backend.herokuapp.com/account/user-info/${userId}`, {\r\n            method: 'PUT',body:formData ,headers: {Authorization: 'Bearer ' + token}\r\n        })\r\n        .then(res => {\r\n        if (res.status !== 200 && res.status !== 201) {throw new Error('Updating information failed!');}\r\n        return res.json();\r\n        })\r\n        .then(res =>{dispatch(saveChangedSettingsInfoSuccess(res.userInfo))})\r\n        .catch(err=>{dispatch(saveChangedSettingsInfoFail(err))})\r\n    }\r\n}\r\n\r\nexport const followUnfollowSuccess = (userId,followingUserId,action) =>{return{type: actionTypes.FOLLOW_UNFOLLOW_SUCCESS,userId:userId,followingUserId: followingUserId,action:action }}\r\nexport const followUnfollowFail = (error) => {return{type: actionTypes.FOLLOW_UNFOLLOW_FAIL,error: error}}\r\nexport const followUnfollowStart =() => {return{type: actionTypes.FOLLOW_UNFOLLOW_START}}\r\n\r\nexport const followUnfollow =(userId,followingUserId,action,token)=>{\r\n    return dispatch => {\r\n        dispatch(followUnfollowStart())\r\n        // fetch(`http://localhost:8080/account/followings/${userId}?action=${action}&followingUserId=${followingUserId}`, {\r\n        fetch(`https://socialmedia-backend.herokuapp.com/account/followings/${userId}?action=${action}&followingUserId=${followingUserId}`, {\r\n            method: 'PUT',headers: {Authorization: 'Bearer ' + token}\r\n        })\r\n        .then(res => {\r\n            console.log('userId: ',userId,'followingUserId: ',followingUserId,'action: ',action,'token: ',token)\r\n        if (res.status !== 200 && res.status !== 201) {throw new Error(action+'failed!');}\r\n        return res.json();\r\n        })\r\n        .then(res =>{dispatch(followUnfollowSuccess(userId,followingUserId,action))})\r\n        .catch(err=>{dispatch(followUnfollowFail(err))})\r\n    }\r\n}\r\n\r\nexport const getUserSuccess = (info) =>{return{type: actionTypes.GET_USER_SUCCESS,user: info }}\r\nexport const getUserFail = (error) => {return{type: actionTypes.GET_USER_FAILED,error: error}}\r\nexport const getUserStart =() => {return{type: actionTypes.GET_USER_START}}\r\n\r\nexport const getUser = (userName,token) =>{\r\n    return dispatch => {\r\n        dispatch(getUserStart())\r\n        // fetch(`http://localhost:8080/feed/users/${userName}`, {\r\n        fetch(`https://socialmedia-backend.herokuapp.com/feed/users/${userName}`, {\r\n            method: 'GET',headers: {Authorization: 'Bearer ' + token}\r\n        })\r\n        .then(res => {\r\n        if (res.status !== 200 && res.status !== 201) {throw new Error('Fetching the user failed!')}\r\n        return res.json();\r\n        })\r\n        .then(res=>{\r\n            dispatch(getUserSuccess(res.userInfo))\r\n        }).catch(err=>dispatch(getUserFail(err)))\r\n    }\r\n}\r\n\r\n\r\nexport const searchUsersSuccess = (info) =>{return{type: actionTypes.SEARCH_USERS_SUCCESS,users: info }}\r\nexport const searchUsersFail = (error) => {return{type: actionTypes.SEARCH_USERS_FAILED,error: error}}\r\nexport const searchUsersStart =() => {return{type: actionTypes.SEARCH_USERS_START}}\r\n\r\nexport const searchUsers = (searchedKey,token) =>{\r\n    return dispatch => {\r\n        dispatch(searchUsersStart())\r\n        // fetch(`http://localhost:8080/feed/search-users/${searchedKey}`, {\r\n        fetch(`https://socialmedia-backend.herokuapp.com/feed/search-users/${searchedKey}`, {\r\n            method: 'GET',headers: {Authorization: 'Bearer ' + token}\r\n        })\r\n        .then(res => {\r\n        if (res.status !== 200 && res.status !== 201) {throw new Error('Searching users failed!')}\r\n        return res.json();\r\n        })\r\n        .then(res=>{\r\n            dispatch(searchUsersSuccess(res.users))\r\n        }).catch(err=>dispatch(searchUsersFail(err)))\r\n    }\r\n}\r\n\r\nexport const fetchSuggestedUsersSuccess = (info) =>{return{type: actionTypes.FETCH_SUGGESTED_USERS_SUCCESS,users: info }}\r\nexport const fetchSuggestedUsersFail = (error) => {return{type: actionTypes.FETCH_SUGGESTED_USERS_FAILED,error: error}}\r\nexport const fetchSuggestedUsersStart =() => {return{type: actionTypes.FETCH_SUGGESTED_USERS_START}}\r\n\r\nexport const fetchSuggestedUsers = (token,userId) =>{\r\n    return dispatch => {\r\n        dispatch(fetchSuggestedUsersStart())\r\n        // fetch(`http://localhost:8080/feed/get-users/${userId}`, {\r\n        fetch(`https://socialmedia-backend.herokuapp.com/feed/get-users/${userId}`, {\r\n            method: 'GET',headers: {Authorization: 'Bearer ' + token}\r\n        })\r\n        .then(res => {\r\n        if (res.status !== 200 && res.status !== 201) {throw new Error('geting users failed!')}\r\n        return res.json();\r\n        })\r\n        .then(res=>{\r\n            dispatch(fetchSuggestedUsersSuccess(res.users))\r\n        }).catch(err=>dispatch(fetchSuggestedUsersFail(err)))\r\n    }\r\n}\r\n","import React from'react'\r\nimport './spinner.scss'\r\n\r\nconst spinner = (props) => {\r\n    return (\r\n        <div class=\"loader\">\r\n            <div class=\"circle\"></div>\r\n            <div class=\"circle\"></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default spinner","import React from 'react'\r\nimport './sign-up-page.scss'\r\nimport {Link} from 'react-router-dom'\r\nimport {connect} from 'react-redux'\r\nimport * as actions from '../../store/actions/index'\r\nimport Spinner from '../../components/spinner/spinner'\r\nimport { withRouter } from \"react-router-dom\"\r\n\r\nclass SignUpPage extends React.Component{\r\n    state = {\r\n        signUpMessage : null,\r\n        formIsValid : true\r\n    }\r\n    submitHandler(event){\r\n        let message = null\r\n        let valid = true\r\n        const emailPattern = /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;\r\n        event.preventDefault()\r\n        if(!this.termsAndConditions.checked) {message = 'Please agree to the terms';valid = false}\r\n        if (this.signUpPass.value.trim().length < 6) {message = 'password is too short'; valid = false} \r\n        if(this.signUpPassRepeat.value !== this.signUpPass.value){message = 'Enter the same password'; valid = false}\r\n        if (this.userName.value.trim().length < 1) {message = 'Please enter a username'; valid = false}\r\n        if (!emailPattern.test(this.signUpEmail.value)){message= 'invalid email'; valid = false}\r\n        if(message === null){\r\n            this.props.onSignUp(this.signUpEmail.value,this.signUpPass.value,this.userName.value,valid);\r\n            this.props.history.push('/')\r\n            this.signUpPass.value = ''\r\n            this.signUpPassRepeat.value =''\r\n            this.userName.value=''\r\n            this.signUpEmail.value = ''\r\n            this.termsAndConditions.checked = false\r\n        } \r\n        this.setState({signUpMessage:message,formIsValid:valid})\r\n    }\r\n    \r\n\r\n    render(){\r\n        let errorMessage = null\r\n        if (this.props.error && this.state.signUpMessage === null) {\r\n            errorMessage = 'Please try again'\r\n        }\r\n        let form = \r\n            <form className='sign-up'>\r\n                <div className='sign-up-form'>\r\n                        <div className=\"sign-up-form-title h3\">Join Us Now!</div>\r\n                        <p className='sign-up-message'>{this.state.signUpMessage}</p>\r\n                        <p className='sign-up-message'>{errorMessage}</p>\r\n                        <div className=\"sign-up-form-fields\">\r\n                            <div className=\"sign-up-form-field\"><input key='sign-up-email' ref={input => {this.signUpEmail = input;}} type=\"email\" className=\"sign-up-form-username\" placeholder=\"Email\"/></div>\r\n                            <div className=\"sign-up-form-field\"><input key='sign-up-name' ref={input => {this.userName = input;}} type=\"text\" className=\"sign-up-form-username\" placeholder=\"username\"/></div>\r\n                            <div className=\"sign-up-form-field\"><input key='sign-up-pass'  autoComplete='new-password' ref={input => {this.signUpPass = input;}} type=\"password\" className=\"sign-up-form-password\" placeholder=\"Password\" /></div>\r\n                            <div className=\"sign-up-form-field\"><input key='sign-up-pass-repeat' ref={input => {this.signUpPassRepeat = input;}} type=\"password\" className=\"sign-up-form-password\" placeholder=\"Repeat Your Password\" /></div>\r\n                            <input type=\"checkbox\" id=\"termsAndConditions\" name=\"termsAndConditions\" ref={input => {this.termsAndConditions = input;}}></input>\r\n                            <label htmlFor=\"termsAndConditions\" className='sign-up-form-terms'> I agree to the <Link to=\"/\" className='sign-up-to-sign-in-link'>Terms and Conditions</Link></label><br></br>\r\n                        </div>\r\n                        <input type=\"submit\" className=\"btn btn-four sign-up-btn\" value='Sign Up' onClick={this.submitHandler.bind(this)}></input>\r\n                        <div className=\"sign-up-to-sign-in\">\r\n                            <h4>Already have an account? <Link to=\"/sign-in\" className='sign-up-to-sign-in-link'> Sign In</Link></h4>\r\n                        </div>\r\n                </div>\r\n            </form>\r\n        if (this.props.loading){form = <Spinner/>}\r\n        \r\n        return(\r\n            <div className='sign-up-page'>\r\n                <h1>{this.props.loading?'Loading information... please wait':null}</h1>\r\n                {form}  \r\n            </div>\r\n        )\r\n    } \r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        loading: state.auth.loading,\r\n        error: state.auth.error !== null\r\n    };\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return{\r\n        onSignUp : (email,password,userName,isValid) => dispatch(actions.addUser(email,password,userName,isValid))\r\n    }\r\n} \r\nexport default connect(mapStateToProps,mapDispatchToProps)(withRouter(SignUpPage))","import React from 'react'\r\nimport './sign-in-page.scss'\r\nimport {Link} from 'react-router-dom'\r\nimport {connect} from 'react-redux'\r\nimport * as actions from '../../store/actions/index'\r\nimport Spinner from '../../components/spinner/spinner'\r\nimport { withRouter } from \"react-router-dom\"\r\n\r\nclass SignInPage extends React.Component{\r\n    state = {\r\n        signInMessage : null\r\n    }\r\n    submitHandler(event){\r\n        let message = null\r\n        const emailPattern = /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;\r\n        event.preventDefault()\r\n        if (!emailPattern.test(this.signInEmail.value)){ message= 'invalid email'} \r\n        if (this.signInPass.value.trim().length < 6) {message = 'password is too short'}\r\n        if(message === null){\r\n            this.props.onSignIn(this.signInEmail.value,this.signInPass.value);  \r\n            this.props.history.push('/')\r\n            this.signInEmail.value='';\r\n            this.signInPass.value=''\r\n        } \r\n        this.setState({signInMessage:message})\r\n    }\r\n\r\n        render(){\r\n            let errorMassage =null\r\n            if(this.props.error && this.state.signInMessage === null){\r\n                errorMassage ='Please try again'\r\n            }\r\n\r\n            let form = \r\n                <div className='sign-in'>\r\n                    <form className='sign-in-form'>\r\n                        <div className=\"sign-in-form-title h3\">Sign in now!</div>\r\n                        <p className='sign-in-message'>{this.state.signInMessage}</p>\r\n                        <p className='sign-in-message'>{errorMassage}</p>\r\n                        <div className=\"sign-in-form-fields\">\r\n                            <div className=\"sign-in-form-field\"><input ref={input => {this.signInEmail = input;}} type=\"email\" className=\"sign-in-form-username\" placeholder=\"Email\" autoComplete='username'/></div>\r\n                            <div className=\"sign-in-form-field\"><input ref={input => {this.signInPass = input;}} type=\"password\" className=\"sign-in-form-password\" placeholder=\"Password\" autoComplete='current-password'/></div>\r\n                            <h5>Forgot Your Password? <a href=\"/\">Click Here</a></h5>\r\n                        </div>\r\n                        <input type=\"submit\" className=\"btn btn-four sign-in-btn\" value='Sign In' onClick={this.submitHandler.bind(this)}></input>\r\n                        <div className=\"sign-in-to-sign-up\">\r\n                            <h4>Do not have an account? <Link to=\"/sign-up\" className='sign-in-to-sign-up-link'> Sign Up</Link></h4>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            if (this.props.loading){\r\n                form = <Spinner/>\r\n            }\r\n            \r\n            return(\r\n                <div className='sign-in-page'>\r\n                   <h1>{this.props.loading? 'Loading information... Please wait' : null}</h1>\r\n                   {form}     \r\n            </div>\r\n            )\r\n        }\r\n            \r\n       \r\n}\r\n\r\nconst mapStateToProps = state =>{\r\n    return{\r\n        loading: state.auth.loading,\r\n        error: state.auth.error !== null\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch =>{\r\n    return{\r\n        onSignIn: (email,password)=>dispatch(actions.userSignIn(email,password))\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(withRouter(SignInPage))","export default __webpack_public_path__ + \"static/media/logo-pink.ad123c89.png\";","import React from'react'\r\nimport './navbar.scss'\r\nimport logo from '../../../images/logo-pink.png'\r\nimport {NavLink} from 'react-router-dom'\r\nimport { FaHome,FaSearch,FaPlus,FaRegUserCircle} from \"react-icons/fa\"\r\nimport { useHistory } from \"react-router-dom\"\r\n\r\nconst Navbar = (props) => {\r\n    const history = useHistory()\r\n        \r\n    return (\r\n        <div className='navbar'>\r\n            <img src={logo} alt=\"Buddy logo\" onClick={()=>history.push('/')}/>\r\n            <div className='navbar-right'>\r\n                <div className='navbar-list'>\r\n                    <div className='navbar-item'>\r\n                        <NavLink activeClassName='navbar-item-active' to='/' exact className='btn' onClick={props.onNavItemClicked}><FaHome size='2.4rem'/></NavLink>\r\n                    </div>\r\n                    <div className='navbar-item'>\r\n                        <NavLink activeClassName='navbar-item-active' exact to='/search' className='btn' onClick={props.onNavItemClicked}><FaSearch size='2.4rem'/></NavLink>\r\n                    </div>\r\n                    <div className='navbar-item'>\r\n                        <NavLink activeClassName='navbar-item-active' exact to={'/'+props.userName} className='btn' onClick={props.onNavItemClicked}><FaRegUserCircle size='2.4rem'/></NavLink>\r\n                    </div>\r\n                    <div className='navbar-item'>\r\n                        <button exact onClick={props.addPostClick} className='btn'><FaPlus size='2.4rem'/></button>\r\n                    </div>\r\n                </div>\r\n                <button className='btn btn-primary navbar-btn' onClick={props.onLogOutClick}>Log Out</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Navbar","export default __webpack_public_path__ + \"static/media/avatar-preview.07b6dac5.jpg\";","import React from'react'\r\nimport './post.scss'\r\nimport {connect} from 'react-redux'\r\nimport * as actions from '../../store/actions/index'\r\nimport photo from '../../images/avatar-preview.jpg'\r\nimport { FaHeart,FaRegComment,FaRegHeart,FaEllipsisV } from \"react-icons/fa\"\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nclass Post extends React.Component {\r\n\r\n    state={\r\n        liked:false,\r\n        postId:'',\r\n        deleteOpen:false,\r\n        comment:''\r\n    }\r\n    componentDidMount(){\r\n        this.setState({liked:this.props.postInfo.likes.findIndex(userId=>userId === this.props.userId) !== -1})\r\n    }\r\n    postCommentHandler= event => {\r\n        event.preventDefault()\r\n        const commentData={\r\n            comment:this.state.comment,\r\n            avatarImgUrl:this.props.userInfo.avatarImgUrl,\r\n            name:this.props.userInfo.name,\r\n            userName:this.props.userInfo.userName\r\n        }\r\n        this.props.onPostComment(this.props.postInfo._id,this.props.postInfo.creator._id,this.props.userId,commentData,this.props.token,this.props.feedPost)\r\n        this.form.reset()\r\n    }\r\n    userProfileHandler = (userName)=>{\r\n        this.props.onGetUser(userName,this.props.token)\r\n        this.props.history.push('/'+userName)\r\n        this.props.profileClicked()\r\n        }\r\n    render(){\r\n        const serverUrl = 'https://socialmedia-backend.herokuapp.com/'\r\n        // const serverUrl = 'http://localhost:8080/'\r\n\r\n        let count = 0 \r\n        let timer = 0\r\n        const onDoubleClick=()=>{\r\n            if(count===0){\r\n                count++\r\n                timer = setTimeout(function() {\r\n                    count = 0\r\n                    },200)\r\n            }\r\n            else if(count === 1){\r\n                count=0\r\n                clearTimeout(timer)\r\n                this.props.onPostLikeDislike(this.state.liked?'unlike':'like',this.props.postInfo._id,this.props.userId,this.props.token)\r\n                this.state.liked? this.setState({liked:false}):this.setState({liked:true})\r\n            }\r\n        }\r\n        return (\r\n            <div onClick={onDoubleClick} className='post' style={this.props.style}>\r\n                <div className='post-top'>\r\n                    <div className='post-top-left' onClick={()=>this.userProfileHandler(this.props.postInfo.creator.userInfo.userName)}>\r\n                        <div className='post-top-img-box'><img src={this.props.postInfo.creator.userInfo.avatarImgUrl !== ''?serverUrl+this.props.postInfo.creator.userInfo.avatarImgUrl:photo} alt=\"Jane Smith\"/></div>\r\n                        <h4>{this.props.postInfo.creator.userInfo.name!== ''?this.props.postInfo.creator.userInfo.name:this.props.postInfo.creator.userInfo.userName}</h4>\r\n                    </div>\r\n                    <div className='post-top-delete-box' style={this.props.postInfo.creator._id === this.props.userId? {display:'block'}:{display:'none'}}>\r\n                        <FaEllipsisV onClick={()=>this.setState(this.state.deleteOpen?{deleteOpen:false}:{deleteOpen:true})}/>\r\n                        <div style={this.state.deleteOpen?{display:'block'}:{display:'none'}} onClick={this.props.deleteHandler} className='post-top-delete'>delete post</div>\r\n                    </div>\r\n                </div>\r\n                <img className='post-photo' src={serverUrl+this.props.postInfo.imageUrl} alt=\"example\"/>\r\n                <div className='post-likebar'>\r\n                    {!this.state.liked?<FaRegHeart onClick={onDoubleClick}/>:<FaHeart onClick={onDoubleClick}/>}\r\n                    <FaRegComment/>\r\n                </div>\r\n                <div className='post-caption'>\r\n                    <h4 onClick={()=>this.userProfileHandler(this.props.postInfo.creator.userInfo.userName)}>{this.props.postInfo.creator.userInfo.name !== ''?this.props.postInfo.creator.userInfo.name:this.props.postInfo.creator.userInfo.userName}</h4>\r\n                    <p>{this.props.postInfo.caption}</p>\r\n                </div>\r\n                <div className='post-comments'>\r\n                    <h4>{(this.props.postInfo.comments.length).toString()} {+this.props.postInfo.comments.length>1?'comments':'comment'}</h4>\r\n                    <div className='post-comments-main'>\r\n                        {this.props.postInfo.comments.map(comment=>{return(\r\n                            <div className='post-comment'>\r\n                                <div className='post-comment-title' onClick={()=>this.userProfileHandler(comment.userId.userInfo.userName)}>\r\n                                    <div className='post-comment-img-box'><img src={serverUrl+comment.userId.userInfo.avatarImgUrl} alt={comment.userId.userName}/></div>\r\n                                    <h4>{comment.userId.userInfo.name !== ''?comment.userId.userInfo.name:comment.userId.userName} </h4>\r\n                                    <p> {comment.content}</p>\r\n                                </div>\r\n                                \r\n                            </div>\r\n                        )})}\r\n                    </div>\r\n                    <form className='post-comment-add' onSubmit={this.postCommentHandler} ref={form => { this.form = form}}>\r\n                        <input className='post-comment-add-input' type=\"text\" placeholder='Add a comment' onChange={event=>this.setState({comment:event.target.value})}/>\r\n                        <input className='btn post-comment-add-btn' type='submit' value=\"post\" disabled={this.state.comment.trim() === ''}/>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n    \r\n}\r\n\r\nconst mapStateToProps = state =>{\r\n    return{\r\n        token : state.auth.token,\r\n        userId:state.auth.userId,\r\n        userName:state.user.userInfo.userName,\r\n        userInfo:state.user.userInfo,\r\n        userPosts:state.post.posts,\r\n        otherUserPosts:state.user.otherUser.posts\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch =>{\r\n    return{\r\n        onPostLikeDislike : (action,postId,userId,token) => dispatch(actions.postLikeDislike(action,postId,userId,token))\r\n        ,onPostComment : (postId,postCreatorId,userId,commentData,token,feedPost) => dispatch(actions.postComment(postId,postCreatorId,userId,commentData,token,feedPost))\r\n        ,onGetUser: (userName,token) => dispatch(actions.getUser(userName,token))\r\n}}\r\n\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(withRouter(Post))","import React from'react'\r\nimport './home.scss'\r\nimport Post from '../../../components/post/post'\r\nimport photo from '../../../images/avatar-preview.jpg'\r\nimport { useHistory } from \"react-router-dom\"\r\n\r\nconst Home = (props)=>{\r\n    const serverUrl = 'https://socialmedia-backend.herokuapp.com/'\r\n    // const serverUrl = 'http://localhost:8080/'\r\n\r\n    const history = useHistory();\r\n    const linkHandler = (userName)=>{\r\n        props.gettingUser(userName,props.token)\r\n        history.push('/'+userName)\r\n         \r\n        }\r\n\r\n    return (\r\n        <div className='home'>\r\n            <div className='posts'>\r\n                {props.posts.length>0?props.posts.map(post=><Post postInfo={post} deleteHandler={()=>{}} profileClicked={()=>{}} feedPost={true}/>):\"No post to show!\"}\r\n            </div>\r\n            <div className='home-right'> \r\n                <div className='home-right-top'>\r\n                    <div className='search-result' onClick={()=>linkHandler(props.userInfo.userName)}>\r\n                        <div className='search-result-img-box'><img src={props.userInfo.avatarImgUrl !== ''?serverUrl+props.userInfo.avatarImgUrl:photo} alt=\"Buddy user\"/></div>\r\n                        <h5>{props.userInfo.name !== ''? props.userInfo.name:props.userInfo.userName}</h5>\r\n                        <p> (@{props.userInfo.userName})</p>\r\n                    </div>\r\n                </div>\r\n                <div className='home-right-top'>\r\n                    <p>Suggestions for you</p>\r\n                    {props.suggestedUsers.length>0?\r\n                        props.suggestedUsers.map(user=>\r\n                            <div className='search-result' onClick={()=>linkHandler(user.userInfo.userName)}>\r\n                                <div className='search-result-img-box'><img src={user.userInfo.avatarImgUrl !== ''?serverUrl+user.userInfo.avatarImgUrl:photo} alt=\"Buddy user\"/></div>\r\n                                <h5>{user.userInfo.name !== ''? user.userInfo.name:user.userInfo.userName}</h5>\r\n                                <p> (@{user.userInfo.userName})</p>\r\n                            </div>\r\n                        ):'No new user to suggest'\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home","import React from'react'\r\nimport './profile.scss'\r\nimport photo from '../../../images/avatar-preview.jpg'\r\nimport {FaPencilAlt} from \"react-icons/fa\"\r\nimport {NavLink,Route,Switch,Redirect} from 'react-router-dom'\r\nimport Spinner from '../../../components/spinner/spinner'\r\nimport { useHistory } from \"react-router-dom\"\r\n\r\nconst Profile = (props) => {\r\n    const serverUrl = 'https://socialmedia-backend.herokuapp.com/'\r\n    // const serverUrl = 'http://localhost:8080/'\r\n\r\n    const history = useHistory();\r\n    const linkHandler = (userName)=>{\r\n        props.gettingUser(userName,props.token)\r\n        history.push('/'+userName)\r\n        }\r\n\r\n    const posts = \r\n    props.posts?\r\n    <div className='profile-posts'>\r\n        {props.posts.map(post=><div className='profile-post' style={{backgroundImage:'url('+serverUrl+post.imageUrl+')'}} onClick={props.postShow} key={post._id} id={post._id}>\r\n        </div>)}\r\n    </div>:<div style={{textAlign:'center',padding:'1rem'}}>No post found</div>\r\n\r\n    const followers = \r\n    props.userInfo.followers && props.userInfo.followers !== []?\r\n    <div className='profile-followers'>\r\n        {props.userInfo.followers.map(follower=>\r\n            <div className='search-result' onClick={()=>linkHandler(follower.userInfo.userName)}>\r\n                <div className='search-result-img-box'><img src={follower.userInfo.avatarImgUrl !== ''?serverUrl+follower.userInfo.avatarImgUrl:photo} alt=\"Buddy user\"/></div>\r\n                <h5>{follower.userInfo.name !== ''? follower.userInfo.name:follower.userInfo.userName}</h5>\r\n                <p> (@{follower.userInfo.userName})</p>\r\n            </div>\r\n        )}\r\n    </div>:<div style={{textAlign:'center',padding:'1rem'}}>No follower found</div>\r\n\r\n    const followings = \r\n    props.userInfo.followings && props.userInfo.followings !== []?\r\n    <div className='profile-followings'>\r\n        {props.userInfo.followings.map(following=>\r\n            <div className='search-result' onClick={()=>linkHandler(following.userInfo.userName)}>\r\n                <div className='search-result-img-box'><img src={following.userInfo.avatarImgUrl !== ''?serverUrl+following.userInfo.avatarImgUrl:photo} alt=\"Buddy user\"/></div>\r\n                <h5>{following.userInfo.name !== ''? following.userInfo.name:following.userInfo.userName}</h5>\r\n                <p> (@{following.userInfo.userName})</p>\r\n            </div>\r\n        )}\r\n    </div>:<div style={{textAlign:'center',padding:'1rem'}}>No following found</div>\r\n\r\n    return (\r\n        \r\n        <div className='profile'>\r\n            {props.loading && !props.userName && !props.userInfo.followers?\r\n            <Spinner/>\r\n            :\r\n            <React.Fragment>\r\n                <div className='profile-top'>\r\n                    <div className='profile-top-img-box'><img src={props.userInfo.avatarImgUrl === ''?photo:serverUrl+props.userInfo.avatarImgUrl} alt=\"profile\"/></div>\r\n                    <div className='profile-top-name'>\r\n                        <div className='profile-top-items-box'>\r\n                            <div className='profile-top-items-left'>\r\n                                <h2>{props.userInfo.name}</h2>\r\n                                <p>{props.userInfo.bio}</p>\r\n                            </div>\r\n                            {props.userInfo.userName === props.currentUserUserName?\r\n                            <button onClick={props.onEditProfileClick} ><FaPencilAlt/> Edit profile</button>:null}\r\n                        </div>\r\n                        {props.userInfo.userName !== props.currentUserUserName?\r\n                                <button onClick={props.followUnfollowClick} >\r\n                                    {props.following}\r\n                                    </button>\r\n                                :null\r\n                            }\r\n                    </div>\r\n                    <div className='profile-nav'>\r\n                        <NavLink activeClassName='profile-nav-item-active' to={`/${props.userInfo.userName}`} exact className='profile-nav-item' >{props.posts.length} {props.posts.length>0?'posts':'post'}</NavLink>\r\n                        <NavLink activeClassName='profile-nav-item-active' to={`/${props.userInfo.userName}/followers`} exact className='profile-nav-item' >{props.userInfo.followers.length} followers</NavLink>\r\n                        <NavLink activeClassName='profile-nav-item-active' to={`/${props.userInfo.userName}/followings`} exact className='profile-nav-item' >{props.userInfo.followings.length} followings</NavLink>\r\n                    </div>\r\n                </div>\r\n                <div className='profile-body'>\r\n                    <Switch>\r\n                        <Route path={`/${props.userInfo.userName}`} exact render={() => posts}/>\r\n                        <Route path={`/${props.userInfo.userName}/followers`} exact render={() => followers}/>\r\n                        <Route path={`/${props.userInfo.userName}/followings`} exact render={() => followings}/>\r\n                        <Redirect to={`/${props.userInfo.userName}`}/>\r\n                    </Switch>\r\n                </div>\r\n            </React.Fragment>\r\n        }\r\n        </div>\r\n            \r\n    )\r\n}\r\n\r\nexport default Profile","import React from'react'\r\nimport './create-post-page.scss'\r\n// import img from '../../../images/img-preview.jpg'\r\n\r\nclass CreatePost extends React.Component  {\r\n    state={disabled:true,src:''}\r\n    \r\n    imgPreview = event => {\r\n        const previewImg = document.getElementById('previewImg');\r\n        const reader = new FileReader();\r\n        reader.onload = function(){\r\n          previewImg.src = reader.result;\r\n        //   this.setState({src:reader.result}).bind(this)\r\n        };\r\n        reader.readAsDataURL(event.target.files[0]);\r\n        this.setState({disabled:false})\r\n      };\r\n    handleSubmit = event =>{\r\n          event.preventDefault()\r\n          const data = new FormData(event.target)\r\n        this.props.postClicked({image:(Array.from(data)[0])[1],caption:(Array.from(data)[1])[1]},this.props.token)\r\n        this.props.changeState()\r\n      }\r\n      render(){\r\n        return (\r\n            <div className='create-post' style={this.props.style}>\r\n                <form className='new-post' onSubmit={this.handleSubmit}>\r\n                    <div className='new-post-top'>\r\n                        <h2>Create Post</h2>\r\n                    </div>\r\n                    <div className='new-post-body'>\r\n                        <div className='new-post-upload-photo'>\r\n                            <div className='file-btn'>\r\n                                <label htmlFor=\"uploadimg\" className='btn btn-primary'>Upload a photo</label>\r\n                                <input type=\"file\" accept=\"image/*\" onChange={event=>this.imgPreview(event)} id='uploadimg' name='image'/>\r\n                            </div>\r\n                            <img id=\"previewImg\" src alt=''/>\r\n                        </div>\r\n                        <div className='new-post-caption'>\r\n                            <input type='text' name='caption' placeholder='Write a caption...'/>\r\n                        </div>\r\n                    </div>\r\n                    <input type='submit' className='btn btn-four new-post-btn' value='post' disabled={this.state.disabled}/>\r\n                </form>\r\n            </div>\r\n        )\r\n      }\r\n    \r\n}\r\n\r\nexport default CreatePost\r\n","import React from'react'\r\nimport './edit-profile.scss'\r\nimport photo from '../../../images/avatar-preview.jpg'\r\nimport {FaPencilAlt} from \"react-icons/fa\"\r\n\r\nconst editProfile = (props) => {\r\n    const serverUrl = 'https://socialmedia-backend.herokuapp.com/'\r\n    // const serverUrl = 'http://localhost:8080/'\r\n\r\n    const previewImgEdit = document.getElementById('previewImgEdit');\r\n    \r\n    const imgPreview = function(event) {\r\n        const reader = new FileReader();\r\n        reader.onload = function(){\r\n          previewImgEdit.src = reader.result;\r\n        };\r\n        reader.readAsDataURL(event.target.files[0]);\r\n        // image = event.target.files[0]\r\n      };\r\n\r\n      const handleSave = event =>{\r\n        event.preventDefault()\r\n        const data = new FormData(event.target)\r\n        props.saveSettingsClicked({avatarImgUrl:(Array.from(data)[0])[1],name:(Array.from(data)[1])[1],bio:(Array.from(data)[2])[1]},props.token,props.userId)\r\n        props.changeState()\r\n        }\r\n    return (\r\n        <div className='edit-profile' style={props.style}>\r\n                <div className='edit-profile-top'>\r\n                    <h2>Edit Profile</h2>\r\n                </div>\r\n                <form className='edit-profile-body' onSubmit={handleSave}>\r\n                    <div className='edit-profile-upload-photo'>\r\n                        <div className='edit-btn'>\r\n                            <label htmlFor=\"uploadimgEdit\" className=''><FaPencilAlt/></label>\r\n                            <input type=\"file\" name='image' accept=\"image/*\" onChange={event=> imgPreview(event)} id='uploadimgEdit'/>\r\n                        </div>\r\n                        <div className='edit-profile-img-box'>\r\n                            <img id=\"previewImgEdit\" src={props.userInfo.avatarImgUrl === ''?photo:serverUrl+props.userInfo.avatarImgUrl}  alt='preview'/>\r\n                        </div>\r\n                    </div>\r\n                    <div className='edit-profile-info-box'>\r\n                        <div className='edit-profile-info'>\r\n                            <label htmlFor=\"edit-profile-name\">Your Name</label>\r\n                            <input type=\"text\" id=\"edit-profile-name\" name=\"edit-profile-name\" defaultValue={props.userInfo.name} />\r\n                        </div>\r\n                        <div className='edit-profile-info'>\r\n                            <label htmlFor=\"edit-profile-bio\">Your Bio</label>\r\n                            <input type=\"text\" id=\"edit-profile-bio\" name=\"edit-profile-bio\" defaultValue={props.userInfo.bio}/>\r\n                        </div>\r\n                    </div>\r\n                    <input type='submit' className='btn btn-primary' value='save'/>\r\n                </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default editProfile\r\n","import React from'react'\r\nimport './search-page.scss'\r\n// import {FaSearch} from \"react-icons/fa\"\r\nimport photo from '../../../images/avatar-preview.jpg'\r\nimport { useHistory } from \"react-router-dom\"\r\nimport Spinner from '../../../components/spinner/spinner'\r\nconst SearchPage = (props) => {\r\n    const serverUrl = 'https://socialmedia-backend.herokuapp.com/'\r\n    // const serverUrl = 'http://localhost:8080/'\r\n\r\n    const history = useHistory();\r\n    const linkHandler = (userName)=>{\r\n        props.gettingUser(userName,props.token)\r\n        history.push('/'+userName)\r\n         \r\n        }\r\n    var timeout = null;\r\n    const doDelayedSearch=(key)=>{\r\n        if (timeout) {  \r\n        clearTimeout(timeout);\r\n        }\r\n        timeout = setTimeout(function() {\r\n            props.onSearch(key,props.token);\r\n        }, 500);\r\n    }\r\n    return (\r\n        <div className='search-page'>\r\n            <div className='search-body'>\r\n                <input type=\"search\" name='search' placeholder='Search accounts' onChange={event=>doDelayedSearch(event.target.value)}/>\r\n                <div className='search-results'>\r\n                    <p className='search-title'>Result:</p>\r\n                    {!props.loading?\r\n                    props.results.map(user=>\r\n                        <div className='search-result' onClick={()=>linkHandler(user.userInfo.userName)}>\r\n                            <div className='search-result-img-box'><img src={user.userInfo.avatarImgUrl !== ''?serverUrl+user.userInfo.avatarImgUrl:photo} alt=\"Buddy user\"/></div>\r\n                            <h5>{user.userInfo.name !== ''? user.userInfo.name:user.userInfo.userName}</h5>\r\n                            <p> (@{user.userInfo.userName})</p>\r\n                        </div>\r\n                    ):<Spinner/>}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SearchPage","import React from'react'\r\nimport Spinner from '../spinner/spinner'\r\nimport './message-modal.scss'\r\n\r\nconst messageModal = (props) => {\r\n    return (\r\n        <div className='message-modal' {...props}>\r\n            {props.loading?\r\n            <Spinner/>:\r\n            <React.Fragment>\r\n                <h2>{props.children}</h2>\r\n                <button className='btn btn-primary' onClick={props.closeClicked}>Close</button>\r\n            </React.Fragment>\r\n            }\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default messageModal","import React from'react'\r\nimport NavBar from './nav/navbar'\r\nimport {connect} from 'react-redux'\r\nimport {Route,Switch,Redirect} from 'react-router-dom'\r\nimport * as actions from '../../store/actions/index'\r\nimport Home from './home/home'\r\nimport Profile from './profile/profile'\r\nimport CreatePostPage from './create-post-page/create-post-page'\r\nimport EditProfile from './edit-profile/edit-profile'\r\nimport SearchPage from './search-page/search-page'\r\nimport MessageModal from '../../components/message-modal/message-modal.jsx'\r\nimport SinglePost from '../../components/post/post'\r\n\r\nclass Account extends React.Component{\r\n    state={\r\n        addPostOpen:false,\r\n        editProfileOpen:false,\r\n        showMessage:false,\r\n        showSettingsMessage:false,\r\n        showPost:false,\r\n        singlePostId:'',\r\n        followingOtherUser:false\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.props.onFetchPosts(this.props.token,this.props.userId)\r\n        this.props.onFetchUserInfo(this.props.token,this.props.userId)\r\n        this.props.onfetchFeedPosts(this.props.userId,this.props.token)\r\n        this.props.onfetchSuggestedUsers(this.props.token,this.props.userId)\r\n      }\r\n      \r\n      deleteHandler=()=>{\r\n        this.setState({showPost:false})\r\n        this.props.onDeletePost(this.state.singlePostId,this.props.token)\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <div>\r\n                <NavBar \r\n                    userName={this.props.userInfo.userName} \r\n                    onLogOutClick={this.props.onLogOut} \r\n                    addPostClick={()=>this.setState({addPostOpen:true,editProfileOpen:false})}\r\n                />\r\n                <Switch>\r\n                    <Route path='/' exact \r\n                        render={()=><Home \r\n                            posts={this.props.feedPosts} \r\n                            suggestedUsers={this.props.suggestedUsers}\r\n                            userInfo={this.props.userInfo} \r\n                            gettingUser={this.props.onGetUser} \r\n                            token={this.props.token}\r\n                            />}\r\n                    />\r\n                    <Route path={`/${this.props.userInfo.userName}`} \r\n                        render={() => \r\n                            <Profile \r\n                            following='follow'\r\n                            followUnfollowClick={null}\r\n                            loading={false}\r\n                            userName={this.props.userInfo.userName}\r\n                            currentUserUserName={this.props.userInfo.userName}\r\n                            postShow={(event)=>this.setState({singlePostId:event.target.id,showPost:true})} \r\n                            posts={this.props.posts} \r\n                            userInfo={this.props.userInfo} \r\n                            onEditProfileClick={()=>this.setState({addPostOpen:false,editProfileOpen:true})}\r\n                            gettingUser={this.props.onGetUser}\r\n                            token={this.props.token}/>\r\n                        }\r\n                    />\r\n                    <Route path='/search' exact render={()=><SearchPage onSearch={this.props.onSearchUsers} token={this.props.token} results={this.props.searchResult} loading={this.props.userLoading} gettingUser={this.props.onGetUser}/>}/>\r\n                    <Route path='/:userName'\r\n                        render={({match}) => \r\n                            <Profile \r\n                            followUnfollowClick={()=>this.props.onFollowUnfollow(this.props.userId,this.props.otherUser._id,this.props.userInfo.followings.findIndex(following=>following._id === this.props.otherUser._id) !== -1?'unfollow':'follow',this.props.token)}\r\n                            following={this.props.userInfo.followings.findIndex(following=>following._id === this.props.otherUser._id) !== -1?'unfollow':'follow'}\r\n                            loading={this.props.userLoading}\r\n                            userName={this.props.otherUser.userName}\r\n                            currentUserUserName={this.props.userInfo.userName}\r\n                            postShow={(event)=>this.setState({singlePostId:event.target.id,showPost:true})} \r\n                            userInfo={this.props.otherUser}\r\n                            posts={this.props.otherUser.posts}\r\n                            gettingUser={this.props.onGetUser}\r\n                            token={this.props.token}\r\n                            />\r\n                        }\r\n                    />\r\n                    <Redirect to='/'/>\r\n                </Switch>\r\n                {this.state.showMessage?\r\n                    <MessageModal style={this.state.showMessage?{display:'flex'}:{display:'none'}} closeClicked={()=>this.setState({showMessage:false,addPostOpen:false})} loading={this.props.loading}>{this.props.postMessage}</MessageModal>:\r\n                    <CreatePostPage style={this.state.addPostOpen?{display:'block'}:{display:'none'}} changeState={()=>this.setState({showMessage:true})} postClicked={this.props.onPostClicked} token={this.props.token}/>\r\n                }\r\n                {this.state.singlePostId!=='' && this.state.showPost?\r\n                <SinglePost\r\n                    feedPost={false}\r\n                    profileClicked={()=>this.setState({showPost:false})}\r\n                    deleteHandler={this.deleteHandler}\r\n                    postInfo={this.props.posts.findIndex(post => post._id === this.state.singlePostId) !== -1?\r\n                        this.props.posts[this.props.posts.findIndex(post => post._id === this.state.singlePostId)]\r\n                        : this.props.otherUserPosts[this.props.otherUserPosts.findIndex(post => post._id === this.state.singlePostId)]\r\n                }\r\n                  style={this.state.showPost?{display:'flex',position:'fixed',top:'50%',left:'50%',transform:'translate(-50%,-50%)',width:'42rem',zIndex:'120'}:{display:'none'}}\r\n                />\r\n                :null}\r\n                <EditProfile style={this.state.editProfileOpen?{display:'block'}:{display:'none'}} userInfo={this.props.userInfo} saveSettingsClicked={this.props.onSaveSettingsClicked} changeState={()=>this.setState({editProfileOpen:false})} token={this.props.token} userId={this.props.userId}/>\r\n                <div className=\"modal-overlay\"  style={this.state.addPostOpen || this.state.editProfileOpen || this.state.showMessage || this.state.showPost?{display:\"block\"}:{display:'none'}} onClick={()=>this.setState({addPostOpen:false,editProfileOpen:false,showMessage:false,showPost:false})}></div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state =>{\r\n    return{\r\n        token : state.auth.token,\r\n        postMessage: state.post.message,\r\n        loading:state.post.loading,\r\n        userId:state.auth.userId,\r\n        userInfo:state.user.userInfo,\r\n        posts:state.post.posts,\r\n        otherUser:state.user.otherUser,\r\n        userLoading:state.user.loading,\r\n        otherUserPosts:state.user.otherUser.posts,\r\n        feedPosts:state.post.feedPosts,\r\n        searchResult:state.user.searchedUsers,\r\n        suggestedUsers:state.user.suggestedUsers\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch =>{\r\n    return{\r\n    onLogOut : () => dispatch(actions.logout())\r\n    ,onPostClicked: (postInfo,token) => dispatch(actions.createPost(postInfo,token))\r\n    ,onFetchPosts:(token,userId)=>{dispatch(actions.fetchPosts(token,userId))}\r\n    ,onFetchUserInfo:(token,userId)=>{dispatch(actions.fetchUserInfo(token,userId))}\r\n    ,onSaveSettingsClicked:(newInfo,token,userId)=>{dispatch(actions.saveChangedSettingsInfo(newInfo,token,userId))}\r\n    ,onDeletePost : (postId,token) => dispatch(actions.deletePost(postId,token))\r\n    ,onGetUser: (userName,token) => dispatch(actions.getUser(userName,token))\r\n    ,onFollowUnfollow:(userId,followingUserId,action,token)=>dispatch(actions.followUnfollow(userId,followingUserId,action,token))\r\n    ,onfetchFeedPosts: (userId,token)=>dispatch(actions.fetchFeedPosts(userId,token))\r\n    ,onSearchUsers: (searchedKey,token)=>dispatch(actions.searchUsers(searchedKey,token))\r\n    ,onfetchSuggestedUsers:(token,userId)=>dispatch(actions.fetchSuggestedUsers(token,userId))\r\n}}\r\n\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Account)","import React from 'react'\nimport './App.scss';\nimport SignUpPage from './containers/sign-up-page/sign-up-page'\nimport SignInPage from './containers/sign-in-page/sign-in-page'\nimport Account from './containers/account/account'\nimport * as actions from './store/actions/index'\nimport {connect} from 'react-redux'\nimport {Redirect, Route,Switch} from 'react-router-dom'\n\n\nclass App extends React.Component{\n\n  componentDidMount(){\n    this.props.onTryAutoSignUp()\n  }\n\n  render(){\n    return (\n      <div className=\"App\">\n        {!this.props.isSignedUp?\n            <Switch>\n              <Route path='/' exact component={SignUpPage}/>\n              <Route path='/sign-up' exact component={SignUpPage}/>\n              <Route path='/sign-in' exact component={SignInPage}/>\n              <Redirect to='/'/>\n            </Switch>\n        :<Account/>}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state =>{return{isSignedUp : state.auth.token !== null}}\nconst mapDispatchToProps = dispatch =>{return{onTryAutoSignUp: () => dispatch(actions.checkSignIn())}}\n\nexport default connect(mapStateToProps,mapDispatchToProps)(App);\n","import * as actionTypes from '../actions/action-types'\r\n\r\nconst initialState ={\r\n    token: null,\r\n    userId:null,\r\n    loading: false,\r\n    error: null\r\n}\r\n\r\nconst reducer = (state=initialState, action) =>{\r\n    switch(action.type){\r\n        case actionTypes.AUTH_START: return { ...state,loading:true,error:null}\r\n        case actionTypes.AUTH_SUCCESS: return {...state,loading:false,error:null,token:action.idToken,userId:action.userId}\r\n        case actionTypes.AUTH_FAIL: return {...state,loading:false,error:action.error}\r\n        case actionTypes.AUTH_LOGOUT: return {...state,loading:false,token:null,userId:null}\r\n        default: return state\r\n    }\r\n\r\n}\r\nexport default reducer\r\n\r\n","import * as actionTypes from '../actions/action-types'\r\n\r\nconst initialState ={\r\n    posts:[\r\n        {\r\n            _id:'',\r\n            content:[{date:'',caption:'',image:''}],\r\n            userId:'',\r\n            likes:[{userId:'',date:''}],\r\n            comments:[{userId:'',content:'',date:''}]\r\n        }\r\n    ],\r\n    loading:false,\r\n    error:null,\r\n    message:null,\r\n    feedPosts:[]\r\n}\r\n\r\n\r\nconst reducer = (state=initialState,action) => {\r\n    switch(action.type){\r\n        case actionTypes.FETCH_POSTS_START:return{...state, loading:true, error:null}\r\n        case actionTypes.FETCH_POSTS_SUCCESS:return{...state,posts:action.posts, loading:false, error:null}\r\n        case actionTypes.FETCH_POSTS_FAILED:return{...state, loading:false, error:action.error}\r\n\r\n        case actionTypes.POST_START:return{...state, loading:true, error:null,message:null}\r\n        case actionTypes.POST_SUCCESSFUL:return{...state,posts:[action.postInfo,...state.posts], loading:false, error:null,message:'Added post successfully!'}\r\n        case actionTypes.POST_FAILED:return{...state, loading:false, error:action.error,message:'Adding the post failed!'}\r\n\r\n        case actionTypes.DELETE_POST_START:return{...state, loading:false, error:null}\r\n        case actionTypes.DELETE_POST_SUCCESSFUL:return{...state,posts:[...state.posts].filter(post => post._id!== action.postId) ,loading:false, error:null}\r\n        case actionTypes.DELETE_POST_FAILED:return{...state, loading:false, error:action.error}\r\n\r\n        case actionTypes.LIKEDISLIKE_POST_START:return{...state, loading:true, error:null}\r\n        case actionTypes.LIKEDISLIKE_POST_SUCCESSFUL:return{...state, userInfo:action.userInfo, loading:false, error:null}\r\n        case actionTypes.LIKEDISLIKE_POST_FAILED:return{...state, loading:false, error:action.error}\r\n\r\n        case actionTypes.COMMENT_START:return{...state, loading:true, error:null}\r\n        case actionTypes.COMMENT_SUCCESSFUL:\r\n            const newstate = {...state,loading:false,error:null}\r\n            const postIndex = newstate.posts.findIndex(post => post._id === action.postId)\r\n            newstate.posts[postIndex].comments.push(action.commentData)\r\n            return newstate\r\n        case actionTypes.COMMENT_FEEDPOST_SUCCESSFUL:\r\n            const copiedState = {...state,loading:false,error:null}\r\n            const pIndex = copiedState.feedPosts.findIndex(post => post._id === action.postId)\r\n            copiedState.feedPosts[pIndex].comments.push(action.commentData)\r\n            return copiedState\r\n        case actionTypes.COMMENT_FAILED:return{...state, loading:false, error:action.error}\r\n\r\n        case actionTypes.FETCH_FEED_POSTS_START:return{...state, loading:true, error:null}\r\n        case actionTypes.FETCH_FEED_POSTS_SUCCESS:return{...state, feedPosts:action.posts, loading:false, error:null}\r\n        case actionTypes.FETCH_FEED_POSTS_FAILED:return{...state, loading:false, error:action.error}\r\n\r\n        default: return state\r\n    }\r\n}\r\n\r\nexport default reducer","import * as actionTypes from '../actions/action-types'\r\n\r\nconst initialState ={\r\n    userInfo:{\r\n        _id:'',\r\n        userName:'',\r\n        name:'',\r\n        bio:'',\r\n        avatarImgUrl:'',\r\n        followers:[],\r\n        followings:[],\r\n        posts:[]\r\n    },\r\n    loading:false,\r\n    error:null,\r\n    otherUser:{\r\n        posts:[]\r\n    },\r\n    searchedUsers:[],\r\n    suggestedUsers:[]\r\n}\r\n\r\nconst reducer = (state=initialState,action) => {\r\n    switch(action.type){\r\n        case actionTypes.FETCH_USERINFO_START:return{...state, loading:true, error:null,userInfo:initialState.userInfo}\r\n        case actionTypes.FETCH_USERINFO_SUCCESS:return{...state, userInfo:action.userInfo, loading:false, error:null}\r\n        case actionTypes.FETCH_USERINFO_FAILED:return{...state, loading:false, error:action.error}\r\n\r\n        case actionTypes.SEARCH_USERS_START:return{...state, loading:true, error:null, searchedUsers:[]}\r\n        case actionTypes.SEARCH_USERS_SUCCESS:return{...state, searchedUsers:action.users.filter(user=>user.userInfo.userName!== state.userInfo.userName), loading:false, error:null}\r\n        case actionTypes.SEARCH_USERS_FAILED:return{...state, loading:false, error:action.error, searchedUsers:[]}\r\n\r\n        case actionTypes.FOLLOW_UNFOLLOW_START:return{...state, loading:true, error:null}\r\n        case actionTypes.FOLLOW_UNFOLLOW_SUCCESS:\r\n            const copiedState={...state}\r\n            if(action.action === 'follow'){\r\n                copiedState.userInfo.followings.unshift({_id:action.followingUserId,userInfo:{userName:copiedState.otherUser.userName,avatarImgUrl:copiedState.otherUser.avatarImgUrl,name:copiedState.otherUser.name}})\r\n                copiedState.otherUser.followers.unshift({_id:copiedState.userInfo._id,userInfo:{userName:copiedState.userInfo.userName,avatarImgUrl:copiedState.userInfo.avatarImgUrl,name:copiedState.userInfo.name}})\r\n            } else{\r\n                copiedState.userInfo.followings.splice(copiedState.userInfo.followings.findIndex(followerId => followerId._id === action.followingUserId),1)\r\n                // copiedState.userInfo.followings.filter(following => following._id !== action.followingUserId)\r\n                // copiedState.otherUser.followers.filter(follower => follower._id !== action.userId)\r\n                copiedState.otherUser.followers.splice(copiedState.otherUser.followers.findIndex(followerId => followerId._id === action.userId),1)\r\n            }\r\n            copiedState.loading = false\r\n            return copiedState\r\n        case actionTypes.FOLLOW_UNFOLLOW_FAIL:return{...state, loading:false, error:action.error}\r\n\r\n        case actionTypes.SAVE_SETTINGS_CHANGES_START:return{...state, loading:true, error:null}\r\n        case actionTypes.SAVE_SETTINGS_CHANGES_SUCCESS:return{...state, userInfo:{...state.userInfo,bio:action.newInfo.bio,name:action.newInfo.name,avatarImgUrl:action.newInfo.avatarImgUrl.size !== 0?action.newInfo.avatarImgUrl:state.userInfo.avatarImgUrl}, loading:false, error:null}\r\n        case actionTypes.SAVE_SETTINGS_CHANGES_FAIL:return{...state, loading:false, error:action.error}\r\n\r\n        case actionTypes.GET_USER_START:return{...state, loading:true, error:null,otherUser:{posts:[]}}\r\n        case actionTypes.GET_USER_SUCCESS:return{...state, otherUser:action.user, loading:false, error:null}\r\n        case actionTypes.GET_USER_FAILED:return{...state, loading:false, error:action.error,otherUser:{posts:[]}}\r\n\r\n        case actionTypes.FETCH_SUGGESTED_USERS_START:return{...state, loading:true, error:null,suggestedUsers:[]}\r\n        case actionTypes.FETCH_SUGGESTED_USERS_SUCCESS:return{...state, suggestedUsers:action.users, loading:false, error:null}\r\n        case actionTypes.FETCH_SUGGESTED_USERS_FAILED:return{...state, loading:false, error:action.error,suggestedUsers:[]}\r\n\r\n        case actionTypes.COMMENT_OTHER_SUCCESSFUL:\r\n            const newState ={...state}\r\n            const postIndex = newState.otherUser.posts.findIndex(post => post._id === action.postId)\r\n            newState.otherUser.posts[postIndex].comments.push(action.commentData)\r\n            newState.loading=true\r\n            newState.error = null\r\n            return newState\r\n        default: return state\r\n    }\r\n}\r\n\r\nexport default reducer","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport './index.css';\nimport App from './App';\nimport {BrowserRouter} from 'react-router-dom'\nimport {createStore,applyMiddleware,compose,combineReducers} from 'redux'\nimport {Provider} from 'react-redux'\nimport thunk from 'redux-thunk'\nimport authReducer from './store/reducers/auth'\nimport postReducer from './store/reducers/post'\nimport userReducer from './store/reducers/user'\nimport reportWebVitals from './reportWebVitals';\n\nconst rootReducer = combineReducers({auth:authReducer\n  ,post:postReducer,user:userReducer\n})\nconst composeEnhancers =process.env.NODE_ENV=== 'development' ?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__: null || compose\nconst store = createStore(rootReducer,composeEnhancers(applyMiddleware(thunk)))\n\nReactDOM.render(\n  <Provider store={store}>\n    <BrowserRouter  basename='/social-media-app/'>\n      <React.StrictMode>\n        <App />\n      </React.StrictMode>\n    </BrowserRouter>\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}